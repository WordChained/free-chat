(this["webpackJsonpfree-chat"]=this["webpackJsonpfree-chat"]||[]).push([[0],{119:function(e,t,A){},120:function(e,t,A){},201:function(e,t,A){"use strict";A.r(t);var c=A(0),n=A.n(c),s=A(29),r=A.n(s),a=(A(119),A(120),A(10)),o=A(12),i=A(11),l=A(8),u=A(114),d=A(1),j=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),A=t[0],n=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),a=r[0],o=r[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),!A||a.length?(console.log("topics:",a),a.map((function(e){return console.log(e.value)}))):console.log("Please pick at least one topic")},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{name:"chat-type",id:"free-search",type:"radio",value:"free-search",onChange:function(){return n(!1)},checked:!A}),Object(d.jsx)("label",{htmlFor:"free-search",children:" Free Search"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{name:"chat-type",id:"topics",type:"radio",value:"topics",onChange:function(){return n(!0)}}),Object(d.jsx)("label",{htmlFor:"topics",children:" Search people by topics"})]}),A&&Object(d.jsx)(u.a,{id:"select-topic",isMulti:!0,options:[{value:"music",label:"Music"},{value:"food",label:"Food"},{value:"video games",label:"Video Games"},{value:"code",label:"Code"},{value:"love",label:"Love"},{value:"art",label:"Art"}],onChange:function(e,t){console.log("new value:",e),console.log("action: ".concat(t.action)),o(Object(i.a)(e))}}),Object(d.jsx)("button",{type:"submit",children:"Search for a chat"})]})})},b=function(){return Object(d.jsxs)("section",{children:[Object(d.jsx)("h1",{children:"Free Chat"}),Object(d.jsx)(j,{})]})},m=function(){return Object(d.jsx)("div",{className:"app-footer",children:Object(d.jsxs)("div",{children:["\xa9 Copyrights ",new Date(Date.now()).getFullYear()]})})},O=A(9),g=A(2),p=A(31),h=A(4),f=A.n(h),x=A(7);var v=A(108),U="/api/",S=A.n(v).a.create({withCredentials:!0}),w=function(e,t){return C(e,"GET",t)},N=function(e,t){return C(e,"POST",t)},R=function(e,t){return C(e,"DELETE",t)};function C(e){return B.apply(this,arguments)}function B(){return(B=Object(x.a)(f.a.mark((function e(t){var A,c,n,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=s.length>1&&void 0!==s[1]?s[1]:"GET",c=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,S({url:"".concat(U).concat(t),method:A,data:c,params:"GET"===A?c:null});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(A,"ing to the backend, endpoint: ").concat(t,", with data:"),c),console.dir(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",A="0123456789",c=0;c<e;c++)t+=A.charAt(Math.floor(Math.random()*A.length));return t}var E=function(){return function(){var e=Object(x.a)(f.a.mark((function e(t){var A;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("user");case 3:A=e.sent,t({type:"GET_USERS",users:A}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("getUsers error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var A=Object(x.a)(f.a.mark((function A(c){var n,s,r;return f.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(!t){A.next=8;break}n=y(7),s={_id:n,userName:"guest",fullName:"guest".concat(n),createdAt:Date.now(),imgUrl:"",likedRooms:[],birthday:Date.now(),sex:"guest"},F(s),c({type:"LOGIN_GUEST",user:s}),c({type:"GET_USERS"}),A.next=21;break;case 8:return A.prev=8,A.next=11,N("auth/login",e);case 11:(r=A.sent)&&F(r),c({type:"LOGIN",user:r}),c({type:"GET_USERS"}),A.next=21;break;case 17:A.prev=17,A.t0=A.catch(8),console.log("login error:",A.t0),c({type:"LOGIN_ERROR",isWrong:!0});case 21:case"end":return A.stop()}}),A,null,[[8,17]])})));return function(e){return A.apply(this,arguments)}}()},F=function(e){return sessionStorage.setItem("loggedInUser",JSON.stringify(e)),e},k=function(){return JSON.parse(sessionStorage.getItem("loggedInUser")||"null")},M=function(e){return function(t){t({type:"SET_READY",isReady:e})}},G=A.p+"static/media/closed-eye.938717ca.png",V="data:image/png;base64,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",T=function(e){var t=e.close,A=e.onLoginLink,n=Object(p.a)(),s=n.register,r=n.handleSubmit,o=Object(a.g)(),i=Object(a.h)(),u=Object(O.b)(),j=Object(O.c)((function(e){return e.userModule})),b=j.loggedInUser,m=j.isUser,h=Object(c.useRef)({}),v=Object(c.useState)(!0),U=Object(l.a)(v,2),S=U[0],w=U[1],R=Object(c.useState)(!1),C=Object(l.a)(R,2),B=C[0],y=C[1],E=Object(c.useState)(""),I=Object(l.a)(E,2),k=I[0],M=I[1],T=function(e){e.stopPropagation(),e.preventDefault(),y(!B)};return Object(c.useEffect)((function(){null!==b&&t()}),[b]),Object(d.jsx)("section",{className:i.landingPage?"":"screen-cover",children:Object(d.jsxs)("div",{className:"signup-container",children:[!i.landingPage&&Object(d.jsx)("button",{onClick:t,className:"close",children:"X"}),Object(d.jsx)("h3",{children:"SIGNUP"}),Object(d.jsxs)("form",{onSubmit:r((function(e){var A=/^[^<>%$]*$/;A.test(e.password)&&A.test(e.email)&&A.test(e.userName)&&A.test(e.fullName)?e.password===e.passwordVer?(w(!0),M(""),o.replace("/"),u(function(e){var t=Object(g.a)(Object(g.a)({},e),{},{imgUrl:"",likedRooms:[],cretedAt:Date.now()});return function(){var e=Object(x.a)(f.a.mark((function e(A){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("auth/signup",t);case 3:c=e.sent,F(c),A({type:"SIGNUP",user:c}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("signup error:",e.t0),A({type:"LOGIN_ERROR",isWrong:!0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(e)),m?M("Email is already in use. forgot password?"):t()):(console.log("Passwords don't match!"),M("Passwords don't match!"),w(!1)):M("Don't use the following charaters: ^,<,>,%,$")})),children:[Object(d.jsx)("input",Object(g.a)(Object(g.a)({required:!0},s("userName")),{},{type:"text",className:"userName",placeholder:"Choose a user name",maxLength:12})),Object(d.jsx)("input",Object(g.a)(Object(g.a)({required:!0},s("fullName")),{},{type:"text",className:"fullName",placeholder:"Your full name"})),Object(d.jsxs)("select",Object(g.a)(Object(g.a)({required:!0},s("sex")),{},{name:"sex",id:"sex",children:[Object(d.jsx)("option",{defaultValue:!0,disabled:!0,value:"",children:"Sex"}),Object(d.jsx)("option",{value:"male",children:"Male"}),Object(d.jsx)("option",{value:"female",children:"Female"})]})),Object(d.jsx)("input",Object(g.a)(Object(g.a)({required:!0},s("birthday")),{},{type:"date",name:"birthday"})),Object(d.jsx)("input",Object(g.a)(Object(g.a)({required:!0},s("email")),{},{type:"email",name:"email",placeholder:"Enter your email"})),Object(d.jsxs)("div",{className:"passwords-container",children:[Object(d.jsx)("input",Object(g.a)(Object(g.a)({className:S?"":"wrong",required:!0},s("password")),{},{type:B?"text":"password",name:"password",minLength:"6",placeholder:"Enter your password"})),Object(d.jsx)("button",{className:"show-pasword-btn",onClick:function(e){return T(e)},children:Object(d.jsx)("img",{className:"show-password",src:B?V:G,alt:"closedEye"})})]}),Object(d.jsxs)("div",{className:"passwords-container",children:[Object(d.jsx)("input",Object(g.a)(Object(g.a)({className:S?"":"wrong",required:!0},s("passwordVer")),{},{type:B?"text":"password",name:"passwordVer",placeholder:"Verify your password",minLength:"6",ref:h})),Object(d.jsx)("button",{className:"show-pasword-btn",onClick:function(e){return T(e)},children:Object(d.jsx)("img",{className:"show-password",src:B?V:G,alt:"closedEye"})})]}),Object(d.jsx)("input",{type:"submit",value:"signup"}),k&&Object(d.jsxs)("div",{children:["*",k]}),m&&Object(d.jsx)("div",{children:"*This email is already in use"})]}),Object(d.jsxs)("p",{children:["Already a member?"," ",Object(d.jsx)("span",{className:"link",onClick:A,children:"login"})]})]})})},L=function(e){var t=e.close,A=e.onSignupLink,n=Object(p.a)(),s=n.register,r=n.handleSubmit,o=Object(O.b)(),i=Object(a.g)(),u=Object(a.h)(),j=Object(O.c)((function(e){return e.userModule})),b=j.loggedInUser,m=j.wrongCreds;Object(c.useEffect)((function(){null!==b&&(v(""),t())}),[b]);var h=Object(c.useState)(""),f=Object(l.a)(h,2),x=f[0],v=f[1],U=Object(c.useState)(!1),S=Object(l.a)(U,2),w=S[0],N=S[1];Object(c.useEffect)((function(){m&&v("Wrong Password or eMail")}),[m]);return Object(d.jsx)("section",{className:u.landingPage?"":"screen-cover",children:Object(d.jsxs)("div",{className:"login-container",children:[!u.landingPage&&Object(d.jsx)("button",{onClick:t,className:"close",children:"X"}),Object(d.jsx)("h3",{children:"Login"}),Object(d.jsxs)("form",{onSubmit:r((function(e){var t=/^[^<>%$]*$/;if(t.test(e.password)&&t.test(e.userName)){var A=e.userName.trim(),c=e.password.trim();i.replace("/"),o(I({userName:A,password:c}))}else v("Don't use the following charaters: ^,<,>,%,$")})),children:[Object(d.jsx)("input",Object(g.a)(Object(g.a)({className:m?"wrong":""},s("userName")),{},{type:"text",name:"userName",placeholder:"Enter your userName",required:!0})),Object(d.jsxs)("div",{className:"passwords-container",children:[Object(d.jsx)("input",Object(g.a)(Object(g.a)({className:m?"wrong":""},s("password")),{},{type:w?"text":"password",name:"password",required:!0,placeholder:"Enter your password"})),Object(d.jsx)("button",{className:"show-pasword-btn",onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),N(!w)}(e)},children:Object(d.jsx)("img",{className:"show-password",src:w?V:G,alt:"closedEye"})})]}),Object(d.jsx)("input",{type:"submit",value:"Log In"})]}),x&&Object(d.jsxs)("div",{children:["*",x]}),Object(d.jsxs)("p",{children:["not a member yet?"," ",Object(d.jsx)("span",{className:"link",onClick:A,children:"signup!"})]})]})})},D=A.p+"static/media/setting.d253e01d.png",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASBSURBVEiJlZbbb1VFFIe/2ZfTK9Dall4AKaVKoBK8oKDxQbmImlQfCIagiAkRtQ8m+h9AgvHFYDQhAiZEEogiiU1QpCiCUVKJWLkduZZSymnpaXvantNz3bNn+dAL0JYWJpm99p7Z6/ut2WvNZCsmaXLrTB5RU4ev15DxFqDT4GWCaO97emW7qq1NTOSvJoR3XFlAOnMQz6vC88DLgM4M2sHnZvxMrVq59sK9GNY94eGWMow6AqpqghjmYmiQhj3TH1gAsbYAMyaAD7dZaDY/kIC0teWg1Lr7gA858JYc25193wKRjgubgvt25YnxJ2UbY/in8c/8rl696b4EpLfjbUusbf2tzXjxOCJCPJUe45jwPATIpJKEw50oN+dzaTq+fvIVpJN1Eh9QnvbxUim+OdrIhq1fkLhDJOlp3t3bwFdHG8l4Hp72kWRCEYvWjcY5YwT629olFkFrTToexbVtXNtG3VHQSikcy8K1bdLJJJ7WmGQ/pOzQ5AIFe/7yuqcv9bRfHgt38uaLS1izZCGurzH9PeBrst0Au9a9TEA0V86eRmufTPfVDl5Kn5z8E9HddPFS6LDna7qaLwMQcB3Ey5C+doVUSzNGewScQddb7e14WnM62HYI1dc0mjbuTv5hw6uXjcgjlu2wvO5jkpEeQv+dIx7pQYwhJz+fmZWV5LgBDn63D09rROTyxvo/5k0qsH/dqmdQnBQRjAgigpjb9yNj48xj1NPvHzpxasIc+EbPMcIYiDHjgEfNA3OAiQVSKb/BzQ60e166YgxsHJFhawVybiVSiSOjeXcJiIgTHfAO9EfjFS1fv0PrtQyJSD/GmPFFgNzCqVTOzSL52o4ySzI35JfqIqWUHpMDkWBAR0sPRJ2iWgC750cSHUF63NVMObyDtJfB04NHh2NbZLkBYq+8R3FkJwPubG4Ur8exFcHfvu2t++D5MqVqMnevoDP3S2WlaodHzEPLKNQn6XfLKXliMbY/EtRgrmyHvqIKpl3/l9b5H5IbsLFtiymWKjx+uOUQsAKG9oFcP7/6ZtvNTdv21o8AjMrFUE6Zc46+hcuxS8txS0pxS0qxSyvorllBSaSeZMEC3NwicrNsclyLcKSXvT8fW75922efAFgioiQe3/rTiVPEYlGMgD/UB4o34t7Yg2OFCM1+lvCMRXTOWETrw0uxYk0UhPbTMXcz2a5DwLEIBGySySRrltTw+lM1a0REOfz9++JfL1ydV+go5lTNxAAiIICoLHqrPsU9v4Vpro2esgiMR0nXCUQUbQt34mbnoyyFZSkEIZaIE77Vxe6zwer5Z87U2rXLXvio/tS552KxGNXl0ymc9zhGwDDYxc4iXbaSDr8SM9CFLza9M94g9vBa7Kw8HEdhOwoUCIrqvlaCoQ6isQR5ju05jcFLq6ryXS62h1laUUTYmMHoh1YxXGoFZXNJFMxCK4VlK1xLoQClwAy9KMCjxVN5smg+oBAUTo6fDg0MxB8rtVGxSB/Nnbf/QmSURcCIoNRwfQ9ezUipQ8FAGjceBsSoQFbn/3BAnPIzxNYDAAAAAElFTkSuQmCC",K="data:image/png;base64,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",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAxtSURBVHic7Zt5dNTVFcc/7zdLJpPMZLKQDbIAISQsQSGBRmsVESxCgaKirSDao7Za21qXWsSqrXY9aq22p2LtghY3jrgDgqAsFlxQMaWCEEGWkGQIZJkhk9le/3gzk8wwmUkmI3JavufMyeQt991333333XvfGziN0ziN/2eIAfYdA5QDWkTd58CHgGcA9E9pZAGrARnjsx0Y+WUx2FckqgFPA5cDHwNrAF9E/URgMkoINfyPaUIqakIHAXOMdm+iNKH6ZDCVKCL3bl9QCuhRq388Rrstgb8jEhjjpCERAQT7+OO0C9YnMsZJwynNXAwYkkUoEQHsR+3/rclioo8wAvcADYAbOAAsQm3HUxK/QxnBS5NASwArAKkJZGGmXuo0/AH6/0gC/aQjHdiBYrAyCfQuAGTJIIN/y30lsuHRMrnxnmKZl6EP+hxLUcduvzU6WTYgD3gMWAu8AewBRgEvA58kgf5UgO9PyxQlOWr7l+Ub+d5UW7D+SmA9sA/4VWDsPiFZAvgNcC1qpaYAmSjVvDJJ9HUABl1EYYD7tJwRmLOGAqIIZRd2AO8DP0ItTq8YSCzQE+tRKnguykAeRBmqZOEi4LXheUaW/7iQfJuehmNevnn/IQ60eCiquZrUjCK8rnbaG+toP/wxbqc92NcLvI7S0JcjCSdbAMOAvUmi2RMCeA2YbjIIWZxjEHubPXh8EqEzkFt+IZa8UWh6U6hDV8dh2g9/THvjDnxuR7D4UeD6SMLJwBctAFAu+L3AQiAHaAE6UJ4pQtPL9EHlwppfhTmnDCHU/pDSz/GWepp2rsTragMYj4pUgeQJYA3KUBWjzucvGhlAG4r/s4EFwDzABqAzmLHkj8ZaUIXJOhiA5l2raD3wHqgT4z6UoU4azgfuSibBBJACXAx8RI+w3GjOltaCKik0vZ/wcP1tYM6XxewXiaAD9jQqIAtO2AXciFqoTwNlh5M1aAFKFU8FRHqgxajTyRbRbhIwLlmDrkAdNznJIjgA9MsFT1YgkSxjmiguAa5GOT1DAmXzUaq+/WQwMAQ472QMFAU30Hte0oM6NgeMbGA0MAGoQp3JfYEeFQwF++WTXG3JEtBm0Ov8S2+/Ue5+4hF5zUVTJCBn1k6QKQa9X0AXMLQ3ArFiAStwJ0qNjgD/RvnX24UQR4Fb4jA3RwjRAPwn2A9ldRuAh4DBfZtjTNwqwbrggq+JiyadicPlYvdBZdhNBgOjS4uEVHmE+f0lPB7l0UlAmnUmCcjSYSNk7TmTpcmUGlSxRwkEKhH4AeDXNJ2snvRVOWrsmRKQJs0oNSEkIAW0ArMTmXUAuQIcJqPBX/f4A7L5+cdlcV5Ob1thRX8If12AA5A1mZXy4aofy5+MmC8BOWPOPFlv98lX3twmc/MKgsRfpHtLCOC3gDSZUuWSJ16Q9XafvO3OX0lAzhs8Rf7ljEXyorxaKRASdXIkukcfBOT3vjFN2lf8Ve5+4hEJyOL8XLlk8c1yyeKb5c+uWSAt5lSJSttPjEYk8hSYgZKWcX7RhczKPweALIOVFJ2RDetW43Z3MWrMGSxftZnvXDaD+t07ZwPrUF7Y74D5tsws/rLsJcbXnAXA2lUvAVBjqyTDkMZVxTOotJTyh/rnNK/0/Q3YgIrl+4pCAdenmlLkj+ZOFwASCUCOLYPr5s4MNSwuyOXaex/QUCfFu5GEetqAMcCzgPGq4pmhyQMYNQPjrGU4OtrZuvktAIYUlXL9TYuCTWpRW2Y+wMWXLwxNvqmxge0fvEteShYl5vwQzUmZo1lcvlBMzZ3oeHjMbdG2USwslmC6bsYUkZNhjdlw3Iiy4NeohjAoAAEsAdIuLpzM9LyvnNCwxqYyW2tWvhgqszcpg6MzpgGkBP7S3NTtYa5b/QpSSqptFSfQHG0dxrUls6z5qbZnn6t9sK8nS7GAayzmVHnD7K/HbSzinDlBAXwbOGt42mDmDT4/asMJtgp0QmPd6lfw+1XKv6mxAYDckdMZMn4BQ8YvAMIFsDYgsImZsbJUcsIL+1evQyUt4qW875JgvGHWNJGZnhanaXxoKCv+SwFcXTwD0csxna5PpdJSSnPTYbZvewfo1gCDyYo5ayhGcxYAzY2qvKO9jS2b38JqSGNkenFMRg66mmtRabVbYzQbASzMtKTJ786c2udJxoKGyuGVVFhKKY/DZGgbBIxaU2CiuhQLAELTozOYQhrw1hur8HjcTMioQBOx04+XFE7GoOklKlobFlF9NuoqbiWgv3HOdGExqx1ztMPB0jUbeOzVN6LS/WTv/uDXlmj1epTlpzZrTEwGASZmjuYf+1ey5rUXuf2u3wS2gEBvTA+10RktOB12nI6OHuofPzNeYMpmbsG54tlD60woR2lWoEpD+RshBvc1NtPc2oYtPY25d9/Pjn3dOZhjHQ6Wv7EBgEPNR7jv8SdloOqp3gQwEeCMjPh3mNlGK6XmAvZ+tps9n36CvekwOkMqQus24voUC26nnYMH9rFh/euk6IyMtQ6PSxtgdsHXWH9kG/au1pmoUHU7yj6NqUgvYWzGcF5tfFs+uXajeH7jVjmpslwEJr8RWAb8dO+hw0Pn3f7znmQl6kZpY7QxNaBMADnG7nC5xd1Glz/6lX5wNZ9/ZikuVyf6gPp3C0Bpw4vLl+HoaOcMaxlGraddk7R5nLS4O2hwhWulXuiCx69ApbcNAea5omgalxaezx+rbhGz8s/B6/GLNz/6d7Dr2ygDOiPwHeAl4G7U+4R7o04mIIAMqyENvVCr6PK7uanuIR6qfzZqh5qANV++7O+BCUcKwBJWXxNh/b1+P05fFy83buKmut+z23kwrH5yzngyDOmgHJdfAsPPzChnZHoJABa9mflDLuSukddydlZVsNvtQBrqEuZfgbJlwC+AD3qbfFAABqNmDBUc97ro8ntweDujdihOzaPAlM2xo0cCE04Pqw8K4NjRI+iEjgkZ4a9kghuyw+sEwOENf2Jg1AxcmDsJ1Ol0mwC+NSTc4jt8LtL1qVRYQr7Nh4Az1kR7Q9ybIYnk8+ONfOZsCG2Lalu3UdNFaICuh0EcZSklTd9X/6YbUwZVowucGrVZYyk1F4Tx4/R1IpGsbgouNov7PUgAcTNCK5u2sHT/SkAZyjvKF1Jtq+CVxs2KQC9bAKCmD9Y/KlNCh1Ez4PZ7mDd4Slidw+vCJyXbWndyyGUHZdxeT2gg+qABVdYyvpo9jtqssUzNVQFVhaUEm0FNtLctIBAhvyEW9jgOnlD23KF1dPq6mJY7kUJTd5rRj8Thc+GTflZ1r/4dcQeJgbgaUJSayw+HhecXBYLxtnLW27fh94WfFjKwTYamFZBtzIjLwLoj7zO38LyQygPUtddj0Zu5pDDcLXd4OpFSsvVoHS3uNlDXZW8zAGiaEJ8M7bHH+org6jrtu8KZbN4VVh8PR93tbGvdGVa2qPxKfj3qeiz67kdoPunD6evC4/eyxv4OKHt6Z78Zj4D+vuFXnTs8c1hzfztWWcsw6Yw4W+qRfl/IGXIEBBI7+AnHWvt7Ye3zUrJOaNPhdSGRbGz5kDaPA1To/lF/+Y6EVple4uktAIoFg6ZnnHUEfm8Xx49+BoC3qwNXewN5KVkUpca8lg/Dx217aOyK6qoD4PZ7Oe5z4/J1sd7+HkJleO7uN9NRoN2y88/VBzqbEuoctPLBVXc07wRkv1Yf2CyRPHVgTdRKP5JWjwOQrGregtPnQsLfUcnaAUPb62pa8eCeZxLqPMFWgV7T4bR/ClL2UP9+HX9/Ag5vPbaDlxs3hVW4/R7sXW14pZ93j+1g45EPEIgjwM8SYjgK9BIsbulNqHOazkRleil17fU4W/bQ2fo5VkM6I9KK+kOmHbgCWPnPA6+b6to/Y+qgGvJM2fglNLjsbGr5iA9adyIQHolcCDQmxHAUDPhqrCazkrr2epp3rUb6fVRnj4wb+0fBm8A0YNn2tt1F29t2n9BAIBolch6w6YTKAWDAj6Qm2kYhEHg6j4X+TxCbUM/rvwu8CuxCXca8BFwjkUNJ8uQhCRqQZbQyLK2QeuchTP2I/XtBJyqsfWygfPUVSXkmFwyOzswox6Cdsi9XoyIp3F4wqJoDnU3MLjgnfuNTDEkRQIYhnZuGX5YMUicdegCnt5NlB5Uj4vJ1AWB3HwuVJRN+6ee4r4t9x5P2PGfAqCf2j5++yI+P5Dym7olFAdpT4jUElXws5Mt74FRPnJxdAjCjMt0bif+rltM4jdP4P8d/AbC3O4zpMVzdAAAAAElFTkSuQmCC",q=function(e){var t=e.user,A=e.logout,n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],a=s[1],i=Object(c.useState)(""),u=Object(l.a)(i,2),j=u[0],b=u[1],m=Object(O.c)((function(e){return e.userModule})),g=m.loggedInUser,p=m.guestUser;Object(c.useEffect)((function(){p?b(Q):g&&b("male"===g.sex?P:K)}),[]);var h=function(){a(!1)},f=Object(c.useRef)();return document.body.addEventListener("click",(function(e){var t=document.querySelector(".corgwheel");if(f.current){e.stopPropagation();var A=f.current.contains(e.target);e.target===t||A||h()}})),Object(d.jsxs)("section",{className:"user-dropdown",children:[Object(d.jsxs)("div",{children:["Hello ",t.userName,"!"]}),Object(d.jsx)("img",{className:"header-user-img",src:t.imgUrl?t.imgUrl:j,alt:"userImg"}),Object(d.jsx)("img",{className:"corgwheel",onClick:function(){a(!r)},src:D,alt:"corgwheel"}),r&&Object(d.jsxs)("section",{ref:f,tabIndex:"-1",className:"dropdown",children:[g?Object(d.jsx)(o.b,{className:"item",onClick:h,to:"/myProfile/".concat(t.userName),children:"My Profile"}):Object(d.jsx)(o.b,{onClick:function(e){return e.preventDefault()},className:"item disabled",to:"/myProfile/".concat(t.userName),children:"My Profile"}),Object(d.jsx)(o.b,{className:"item",onClick:h,to:"/myTattoos",children:"My List"}),Object(d.jsxs)("div",{className:"item",onClick:A,children:[Object(d.jsx)("span",{children:"Logout"}),Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABAgAAAQIBMi60rgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFkSURBVEiJ1dW9SlxREAfw3wlWIbFWNyGi+AJBCJi1SJFiKyFwsUlhJ4L4Dj6CdbbxNVJEQ0rRQosQSBEISAIhIItxQXRsTnTduB/XZRcyMFyYzzvzn5mTIsIw6cFQo48iwVgZ45TSM6ygihmcYy/zbkQc/uMUET0Zj/AOl4gOfIktPGz1Tb1ATik9xQ5ms+gnPmTZCeaxgJdZ/xXLEXHQswKM4yj/4QU2utgW+JVtv+FxRLirFa+4rmw9OzRR9NHKKfzIPvVbCTCJz1lZZNkTbGOhH6yyz1ILLoutmb9k4W9M9xuwQ5L3OdbmWEqpkgGbwx+8RTOlNNEV/RtqRMRpm+wTXuM5HOo8ev3wGaptFdSy7ngkm1xzu0UFDkrEuKtF8/m7P3SQe41pBXW8GGhMuyzamptFezPQonU5FX+n7AKrZU/FfY7dd3zELhoGOXZtrasbxrluq6b0g1MqwX3o/3/0rwAnyjjumL57zAAAAABJRU5ErkJggg==",alt:"lgout-icon"})]})]})]})},Y=A.p+"static/media/chat-logo.1371f267.png",z=function(){var e=Object(O.c)((function(e){return e.userModule})),t=e.loggedInUser,A=e.guestUser,n=Object(a.g)(),s=Object(O.b)(),r=Object(c.useState)(!1),i=Object(l.a)(r,2),u=i[0],j=i[1],b=Object(c.useState)(!1),m=Object(l.a)(b,2),g=m[0],p=m[1];return Object(d.jsx)("section",{className:"app-header",children:Object(d.jsxs)("nav",{className:"main-nav",children:[Object(d.jsx)(o.b,{to:"/",children:Object(d.jsx)("img",{className:"logo",src:Y,alt:"logo"})}),Object(d.jsx)("span",{children:" | "}),Object(d.jsx)(o.c,{className:"home-link",activeClassName:"active-nav",exact:!0,to:"/",children:"Home"}),Object(d.jsx)("span",{children:" | "}),Object(d.jsx)(o.c,{className:"about-link",activeClassName:"active-nav",exact:!0,to:"/about",children:"About"}),Object(d.jsx)("span",{children:" | "}),Object(d.jsx)(o.c,{className:"Rooms-link",activeClassName:"active-nav",exact:!0,to:"/rooms",children:"Rooms"}),Object(d.jsxs)("div",{className:"user-links ".concat(A?"guest":""),children:[(t||A)&&Object(d.jsx)(q,{user:t||A,logout:function(){s((sessionStorage.clear(),function(e){e({type:"LOGOUT"})})),n.push("/:landing-page")}}),Object(d.jsxs)("div",{className:"reg-btns",children:[!t&&Object(d.jsx)("span",{onClick:function(){return p(!0)},children:"Login"}),!t&&"|",!t&&Object(d.jsx)("span",{onClick:function(){return j(!0)},children:"Signup"})]})]}),u&&Object(d.jsx)(T,{close:function(){return j(!1)},onLoginLink:function(){p(!0),j(!1)}}),g&&Object(d.jsx)(L,{close:function(){return p(!1)},onSignupLink:function(){p(!1),j(!0)}})]})})},Z=function(){return Object(d.jsx)("div",{children:"about page"})},W=A(110),H=A(111),X=function(e){return function(t){t({type:"SET_CURR_ROOM",room:e})}},J=function(e){var t=e.room;return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)("td",{className:"room-preview",children:Object(d.jsx)(o.b,{to:"rooms/".concat(t._id),children:t.name})}),Object(d.jsx)("td",{children:t.topic}),Object(d.jsx)("td",{children:t.type}),Object(d.jsx)("td",{children:t.limit}),Object(d.jsx)("td",{children:t.restrictions.join(", ")}),Object(d.jsx)("td",{children:Object(d.jsx)("span",{children:"some date"})})]})},_=function(e){var t=e.rooms,A=Object(O.b)(),c=Object(a.g)();return Object(d.jsx)("div",{className:"rooms-list",children:Object(d.jsxs)("table",{border:"1",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"topic"}),Object(d.jsx)("th",{children:"type"}),Object(d.jsx)("th",{children:"Limit"}),Object(d.jsx)("th",{children:"Restrictions"}),Object(d.jsx)("th",{children:"last Message"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsx)("tr",{onClick:function(){return function(e){A(X(e)),c.push("/rooms/".concat(e._id))}(e)},children:Object(d.jsx)(J,{room:e})},e._id)}))})]})})},$=Object(c.memo)((function(){var e=Object(O.c)((function(e){return e.roomModule})),t=e.rooms,A=e.filterBy,n=e.filteredRooms,s=Object(p.a)(),r=s.register,a=s.handleSubmit,o=Object(O.b)();Object(c.useEffect)((function(){o(function(e){return function(){var t=Object(x.a)(f.a.mark((function t(A){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w("room",{filterBy:e});case 2:c=t.sent,A({type:"GET_ROOMS",data:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(A))}),[A]);var i=function(e){console.log("tags:",e),o(function(e){return function(t){t({type:"SET_TAGS",tags:e})}}(e))};return t?Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"forms",children:[Object(d.jsx)("form",{className:"free-search-form",onSubmit:a(i),onChange:Object(W.debounce)(a((function(e){o(function(e){return function(t){t({type:"SET_FILTER",filterBy:e})}}(e["search-rooms"]))})),700),children:Object(d.jsx)("input",Object(g.a)(Object(g.a)({},r("search-rooms")),{},{id:"search-rooms",type:"text",placeholder:"Search By Name",autoComplete:"off"}))}),Object(d.jsx)("form",{className:"tags-form",children:Object(d.jsx)(H.a,{isMulti:!0,name:"tags",options:[{value:"",label:"Choose Tags"},{value:"music",label:"Music"},{value:"food",label:"Food"},{value:"video games",label:"Video Games"},{value:"code",label:"Code"},{value:"love",label:"Love"},{value:"art",label:"Art"}],placeholder:"Narrow Results by Tags",onChange:i})})]}),Object(d.jsx)(_,{rooms:n||t})]}):Object(d.jsxs)("div",{className:"lds-ripple",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})),ee=A(58),te=A.n(ee),Ae=function(){var e=null;return{setup:function(){return Object(x.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=te()("");case 1:case"end":return t.stop()}}),t)})))()},on:function(t,A){e.on(t,A)},off:function(t){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(A?e.off(t,A):e.removeAllListeners(t))},emit:function(t,A){e.emit(t,A)},terminate:function(){e=null}}}();window.socketService=Ae,Ae.setup();var ce=A(112),ne=function(e){return function(){var t=Object(x.a)(f.a.mark((function t(A){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=7;break}return t.next=4,w("room/chat/".concat(e));case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0=[];case 8:c=t.t0,A({type:"SET_MSGS",msgs:c}),t.next=15;break;case 12:t.prev=12,t.t1=t.catch(0),console.log("getMsgs error:",t.t1);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},se=function(){var e=Object(c.useRef)();return Object(c.useEffect)((function(){return e.current.scrollIntoView()})),Object(d.jsx)("div",{ref:e})},re=function(e){var t=e.msg,A=e.currUser,n=(e.isLiked,e.isStarred,e.room),s=Object(O.b)(),r=(Object(O.c)((function(e){return e.roomModule})).currRoom,Object(c.useState)(null)),a=Object(l.a)(r,2),o=a[0],i=a[1],u=Object(c.useState)(null),j=Object(l.a)(u,2),b=j[0],m=j[1];Object(c.useEffect)((function(){t.star.includes(A._id)?m(!0):m(!1),t.likes.includes(A._id)?i(!0):i(!1)}),[t.star,t.likes]);return Object(d.jsxs)("div",{className:"msg-edit-options",children:[Object(d.jsx)("img",{onClick:function(){var e,c,r;"guest"!==A.sex?t.star.includes(A._id)?(console.log("star toggle off"),s((e=n._id,c=t.uid,r=t.id,function(){var t=Object(x.a)(f.a.mark((function t(A){var n,s,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R("room/chat/".concat(e,"/star/").concat(c),{uid:c,msgId:r});case 3:n=t.sent,s=n.msgs.findIndex((function(e){return e.id===r})),(a=n.msgs[s]).star.filter((function(e){return e!==c})),A({type:"UN_STAR_MSG",msg:a,idx:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("unStarMsg error:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))):(console.log("star toggle on"),s(function(e,t,A,c){return function(){var c=Object(x.a)(f.a.mark((function c(n){var s,r,a;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,N("room/chat/".concat(e,"/star/").concat(t),{uid:t,msgId:A});case 3:s=c.sent,r=s.msgs.findIndex((function(e){return e.id===A})),a=s.msgs[r],n({type:"STAR_MSG",msg:a,idx:r}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log("starMsg error:",c.t0);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(n._id,t.uid,t.id))):alert("Only registered users can like and star messages")},className:b?"starred":"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEeSURBVDiNjdG7LoVBFAXgb2vQiagQhUuiOJQqb6CR6CRyCs8hGonKG2g8hDdQ6RxE3BIkep2CZGvml9855jDJymTWXnvty0Rmqp2IWIfMPKtqagYREbgsz5WsCEeq5dnCU8FWVZWZA0DgAmsFF023/ah1sInXzDzPzHO8Fm5wVMxjFUstdLBRkkXEGk5xhfsWek2r4zjBAx7xkJlvPypFTGARC+Xu4h3mcIfubzNWdtQtOXMNMYtb7P4jebdoZzNTOzCNG+wMSd4pmulvrk+wjeMhBsfYHvaNy7iufK0SW24T/QadxiAiJiPisGCyZdD5y+A5IvbQw0dBr3DP/Qbt+cbwiRccYaoVmyrcS9GMDSwRo9jHzJAlzuAAow33BeKvGNbTEZeJAAAAAElFTkSuQmCC",alt:"star"}),Object(d.jsx)("img",{onClick:function(){var e,c,r;"guest"!==A.sex?t.likes.includes(A._id)?(console.log("like toggle off"),s((e=n._id,c=t.uid,r=t.id,function(){var t=Object(x.a)(f.a.mark((function t(A){var n,s,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R("room/chat/".concat(e,"/likes/").concat(c),{uid:c,msgId:r});case 3:n=t.sent,s=n.msgs.findIndex((function(e){return e.id===r})),(a=n.msgs[s]).likes.filter((function(e){return e!==c})),A({type:"UN_LIKE_MSG",msg:a,idx:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("unLikeMsg error:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))):(console.log("like toggle on"),s(function(e,t,A){return function(){var c=Object(x.a)(f.a.mark((function c(n){var s,r,a;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,N("room/chat/".concat(e,"/likes/").concat(t),{uid:t,msgId:A});case 3:s=c.sent,r=s.msgs.findIndex((function(e){return e.id===A})),a=s.msgs[r],n({type:"LIKE_MSG",msg:a,idx:r}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log("likeMsg error:",c.t0);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(n._id,t.uid,t.id))):alert("Only registered users can like and star messages")},className:o?"liked":"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADhSURBVDiNpdM7akJBFAbgb0yZNAquwdpesEhh48LchZCNWGUBtqJ9sAgKuYVIOCkyN9yYuTeaHPhh5vyPYV4pIjQrpXQXEe8KVeRyQB9LvOCIJ0wjouanuXfMmiX69eIP2CIucMZjxrnAb7PXokDWeM1o4xew7hD8hnXCG+5Lh3ZFVT1s/miGTQ+rfwSsYIC92/e/x6C+5zlON5hPmEfE50PKITNUV5grzL589SCHTHDoMB8w+eZpTnLIuOVM9hj/0F82csgIu4Z5h1FRW2rmkCGeM4ZtunT5nZuVUkoQHaIPsXoLU4uBzaMAAAAASUVORK5CYII=",alt:"like"}),A&&A._id===t.uid&&Object(d.jsxs)("div",{className:"user-edit-options",children:[Object(d.jsx)("button",{onClick:function(){},className:"edit user-option",children:"Edit"}),Object(d.jsx)("button",{onClick:function(){},className:"delete user-option",children:"X"})]})]})},ae=Object(c.memo)((function(e){var t=e.socket,A=Object(p.a)(),n=A.register,s=A.handleSubmit,r=A.reset,a=Object(O.b)(),o=Object(O.c)((function(e){return e.chatModule})).currChatMsgs,i=Object(O.c)((function(e){return e.userModule})),u=i.loggedInUser,j=i.guestUser,b=i.users,m=Object(O.c)((function(e){return e.roomModule})).currRoom,h=Object(c.useState)(!1),v=Object(l.a)(h,2),U=v[0],S=v[1],w=Object(c.useState)(""),R=Object(l.a)(w,2),C=R[0],B=R[1],y=Object(c.useState)(null),I=Object(l.a)(y,2),F=I[0],M=I[1],G=Object(c.useState)(!0),V=Object(l.a)(G,2),T=V[0],L=V[1],q=Object(c.useState)({edit:!1,msgId:null}),Y=Object(l.a)(q,2),z=Y[0],Z=Y[1];Object(c.useEffect)((function(){var e=m.topic+m._id;return Ae.emit("room topic",e),b||a(E()),M(k()),j?B(Q):u&&B("male"===u.sex?P:K),a(ne(m._id)),S(!0),Ae.on("room addMsg",(function(e){console.log("socket:",t),a(function(e,t,A,c,n,s,r){return function(){var a=Object(x.a)(f.a.mark((function a(o){var i,l;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k();case 3:if(i=a.sent,console.log(i),i._id!==A){a.next=12;break}return a.next=8,N("room/chat/".concat(e),{msg:t,uid:A,name:c,isEdit:n,star:s,likes:r});case 8:l=a.sent,o({type:"ADD_MSG",msgs:l.msgs}),a.next=13;break;case 12:console.log("shouldnt happen. means the sender is not the logged in user/guest");case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.log("addMsg error:",a.t0);case 18:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e){return a.apply(this,arguments)}}()}(m._id,e.text,e.uid,e.name,e.isEdit,e.star,e.likes)),setTimeout((function(){a(ne(m._id))}),100)})),function(){a(ne(null)),Ae.off("room addMsg")}}),[]);var W=function(e){var t=m.msgs.find((function(t){return t.id===e}));if(t)return!(!t||!t.likes.includes(F._id))},H=function(e){var t=m.msgs.find((function(t){return t.id===e}));if(t)return!(!t||!t.star.includes(F._id))},X=function(e,t){var A=b.find((function(e){return e._id===t.uid}));if(A)return A[e]};return F&&b?Object(d.jsxs)("div",{className:"chat-container",children:[o&&Object(d.jsxs)("div",{className:"msgs-container",children:[Object(d.jsx)("p",{className:"start-of-chat",children:"This is the beggining of the chat!"}),o.map((function(e){return Object(d.jsxs)("div",{className:"single-msg ".concat(F&&F._id===e.uid?"sender":""),children:[Object(d.jsx)(ce.Palette,{src:F&&X("imgUrl",e)?X("imgUrl",e):e.name.includes("guest")?Q:C,crossOrigin:"anonymous",format:"hex",colorCount:4,children:function(t){var A=t.data;return t.loading?Object(d.jsx)("div",{children:"\ud83d\udd52"}):Object(d.jsx)("img",{style:{backgroundColor:A[A.length/2]},className:"user-img",src:F&&X("imgUrl",e)?X("imgUrl",e):e.name.includes("guest")?Q:C,alt:"userImg"})}}),z.edit&&z.msgId===e.id&&Object(d.jsx)(re,{msg:e,currUser:F,isLiked:W(e.id),isStarred:H(e.id),room:m}),Object(d.jsxs)("div",{name:"single-msg-txt",className:F&&F._id===e.uid?"sender":z.edit?"edit":"",style:e.star.includes(F._id)?{boxShadow:"gold 0 0 5px"}:{boxShadow:"none"},children:[Object(d.jsx)("span",{className:"sender-name",children:X("userName",e)?X("userName",e):e.name}),e.text,Object(d.jsxs)("span",{className:"sent-at",children:[new Date(e.sentAt).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})," ",Object(d.jsx)("span",{className:"msg-status-marks ".concat(U?"sent":""),children:"\u2714\u2714"})]}),Object(d.jsx)("img",{className:"edit-btn",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFDSURBVDiNjdIxS5ZRGIfx33kVEhyaFIwIJ+kLuDS7hKMYREuTDQ35CWyzqdTULRwiQdpqcYhSJ0VoEKQxkiSFhjB0EMPbwfuBV3ufVw8cznmuc19/7odzRITrTtzDW3zEUDJ9eIUd7DfN3aooC6cR+InvuR+FN/mxjKWm+Q79Kc9kzXt0oIGvWIUjLLVp+3XK/7CHu8k/YVseTtfIc3m+gEH8yZAJnOJpywAUzDfJjeSD+Jt8A911Ac8vy8kf5a9s4GZ1CxcCMIATfL5Krgt4kmz4Krku4EWyLtzBZJ0cETr9PyLXH+jJO1/GQxyXUp5hNiJO0TJgCreyg19Yi4gPUEp54PxFrmOzZUBE/MbjFsGym+ZVw/lLvF0jXB5V3WEFOrGIsVLKCg7ayA3cx1ZEbFewoBfjGMGNNgGBL3gZEd8qeAa6JA54N/M14gAAAABJRU5ErkJggg==",alt:"edit",onClick:function(){return t=e.id,e.uid,void(!0===z.edit&&z.msgId===t?Z({edit:!1,msgId:null}):Z({edit:!0,msgId:t}));var t}}),e.likes.length?Object(d.jsxs)("div",{className:"like-count",children:[Object(d.jsx)("span",{children:e.likes.length}),Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFwSURBVDiNpZO/S5tRFIafc+6XX58SQwsVhE4OFgoi1sFBUlwUByfHCv0DOhenTp06detUXMVBShfXLN2qJCANTRyk2BjFCkpB7RfuPZ0qJCYh1Xd873nee86BI2bGfRQBMPswH67T7xCWgGGwLUU+Um5+Bfg98ehlK7CWtOyJgneR1mPnF3K1Xw2xydGhoLILTLRFG9cKz88v/dOrxNbpaNQ5ElP3OApO3mAdMICQDfApSWy0EwbwnnTW2ecIY6nPiGO+z4pa3qYUGO8T0FchWFaB+l0DVOVKEUp3DUg5qqqWfQsc/S/sBC+paEUpH5wHYxW4HBQWgXTGvS5Uj34oQFRpltR0EbgYALY4pa8KteP3AHrzUml8UdN54LQXrEKI0+5Ffv/kw43XVlFplNVpEfjZBfa5TLScrx9vtPm3vtlpfFeROeDbP8s5+RPntJivNbdvjdTzGmcejFjIbJ5d+GdDsZ/O7Z0ddivrHTCg/gJJiH2My9HpKwAAAABJRU5ErkJggg==",alt:"heart"})]}):Object(d.jsx)(d.Fragment,{})]},e.id)]},e.id)})),Object(d.jsx)(se,{})]}),Object(d.jsxs)("div",{className:"typing-line",children:[Object(d.jsxs)("form",{onSubmit:s((function(e){if(e["msg-input"]){var t="guest"===F.sex?"fullName":"userName",A={text:e["msg-input"],uid:F._id,name:F[t],isEdit:!1,star:[],likes:[]};Ae.emit("room newMsg",A),r()}})),children:[Object(d.jsx)("textarea",Object(g.a)(Object(g.a)({},n("msg-input")),{},{id:"msg-input",type:"text",spellCheck:"true",autoComplete:"off",className:T?"":"allowed",onKeyUp:function(e){""===e.target.value?L(!0):L(!1)}})),Object(d.jsx)("button",{type:"submit",className:T?"":"allowed",children:Object(d.jsx)("img",{className:T?"":"allowed",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHmSURBVFiFxdVPiE1hGMfxj2v8i0jEhpSUkRILJTuxUpOU2LFkI9kqpVAWUoqasjKbKStFFthoFjb+TWFnrJiF0uRPI8O9FueevE7nPX+uc+c+9avbeZ/3+f7e9zz3OQwuhnFrEOA1uI45PJxP8GKcwQw6XV2dL/gI3gXgVCf6Dd6NiRxwql39Am/AGNoF8DksbRq8HBcwWwBO9aZJcAvHMR2BTeU8G28KfgCTEXAbN/AlZ+3c/4KHcS8C7uAXTuJlZH2kV3A4SGLwHziM0YKcTXXBeYMkT98kr+VIQc4MFtSBxwZJVp+xB5tLjE5UBZcNklDT2IFFeFqSe7MMXGWQhHqPLd291yrkn4qB6wySVG+7huFgRdN7s+CyQRLTM6wNbu1ThT1trAzhRYOkSE+CQkOq98pU9vTbcaXm6e9jWVDjco29d7MG0ljYvY0xfC8oMC7p9DT2SaZeVQMXYwbCWCXpiUf+bapRSb+ksQ4fa8A7OFrFQBhbcUny7winVwuPa8I72FbXQCzO9wCflbzqRqLoYxTT82yRVvZBjRjqYc9kE0WK4rbkmo9hdc766yZh2et94O+Blki+oHfwM8jZ3y8DL7AikrceZ/Gq+7txAx+wscnCdQx8xc5BwOE3Dg0KDqebKPIH3Ypsi6tgaqsAAAAASUVORK5CYII=",alt:"send"})})]}),Object(d.jsxs)("div",{className:"chat-btns",children:[Object(d.jsx)("span",{children:" | "}),Object(d.jsx)("img",{src:D,alt:"settings"}),Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKKSURBVFiF3ZfPThNRFMZ/C4MmWOWfLW0FZKsk4qq+hVGDL4G6cKcvoSK+hzEuXZgIQi1F+VOKUpWoTwAuMMHUxf1u7u3Qmc6005j4JbOYb+45373nnnPuHfiPMAM8BWrALz01cTP9FB4AngN/gGbIcwwsamyqyABvJHIELAAlYFBPSdyRxrxOcxIZYEmOvwNXI8bOAj81djEN8XPAshzuA9MxbGYxkTgGrvQifh5Ykfg34FIC22eye9KL+KonPpXQviTbWq/i+8QLexBnZX+Y1HAIeC/jBjApfhB4ALwEXgEPJRKGjHwcJBEfBioy3AMmxOeADU7W/HrEJK5rzHZc8RGgKqPPwEXx48CO+F3gFnBDE2wCj0L82SR8HFd8XQafgKL4PFAXvwGMeTY3cQ0niGvAb0wZXu4kPgp88MQLbcQ/BsQB7ujbiwA/DfzQt4VO4mNybsObF1/Qe1OTGw3YZTHb1ATmPX4KUzVNTNuObMUXcIlV98SLmEjYJGsnvqXvZeCU+Engq/hlTBVEim/iVm7D7idcu5X7dnWNB5OwDfErmPYdiTVcieQ8Jzasa5iS9OGvfEvvYCJmK6KMaWIdsYSpd+tkwnNSSSBewG1XBdPEEsMXr2JK0kdY2LOYPh+2XbHFv+DCF1xB2MpztOZKcNKxcAZX/6uc3Lsw8Swmd2x/6GrlAPdxYY0r7m/Hpt67RlmObscUH8P1jW2P7xqHcjYe4G2J+uIjuO3awZVuKhPIB/i3tJboMO6U3G0z4a5hbzxzEWOGcPcD/6BKBfc8x8HGY8VtnuzhjujUcJrWO8AcZoUFzFFr23IDdzlJHUVvEu2eaj/FLQaAu8A7TGIeYI7Tefrwf/dP8RdrGOlWSZCiDwAAAABJRU5ErkJggg==",alt:"attachment"}),Object(d.jsx)("img",{src:"data:image/png;base64,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",alt:"smiley"})]})]})]}):Object(d.jsxs)("div",{className:"lds-ripple",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})),oe=Object(c.memo)((function(){var e=Object(O.c)((function(e){return e.roomModule})).currRoom,t=Object(O.c)((function(e){return e.userModule})),A=t.loggedInUser,n=t.guestUser,s=Object(a.g)(),r=Object(O.b)(),o=Object(a.h)().id,i=Object(c.useState)(null),u=Object(l.a)(i,2),j=u[0],b=u[1];Object(c.useEffect)((function(){var t;if(r((t=o,function(){var e=Object(x.a)(f.a.mark((function e(A){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("room/".concat(t));case 2:c=e.sent,A({type:"SET_CURR_ROOM",room:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),!j){var A=Object(ee.io)("http://localhost:3000",{withCredentials:!0});b(A)}if(e){var c=e.topic+e._id;Ae.emit("room topic",c)}return function(){Ae.on("disconnect")}}),[]);return e?Object(d.jsxs)("div",{className:"room-container",children:[Object(d.jsx)("button",{onClick:function(){s.goBack(),r(X(null))},children:"Back"}),Object(d.jsx)("h3",{children:e.name}),(A||n)&&j&&Object(d.jsx)(ae,{socket:j})]}):Object(d.jsxs)("div",{className:"lds-ripple",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})),ie=function(){var e=Object(O.b)(),t=Object(a.g)(),A=Object(c.useState)(!1),n=Object(l.a)(A,2),s=n[0],r=n[1],o=Object(c.useState)(!0),i=Object(l.a)(o,2),u=i[0],j=i[1];return Object(d.jsxs)("div",{className:"landing-page",children:[Object(d.jsx)("div",{className:"greeting",children:Object(d.jsx)("h1",{children:"Welcome to FreeChat!"})}),s&&Object(d.jsx)(T,{close:function(){return r(!1)},onLoginLink:function(){j(!0),r(!1)}}),u&&Object(d.jsx)(L,{close:function(){return j(!1)},onSignupLink:function(){j(!1),r(!0)}}),Object(d.jsxs)("div",{className:"enter-as-guest",children:[Object(d.jsx)("p",{children:"Or Start chatting as a guest"}),Object(d.jsx)("button",{onClick:function(){e(I({},!0)),t.replace("/")},children:"Let's Go!"})]})]})},le=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),A=t[0],n=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),a=r[0],o=r[1],i=Object(O.c)((function(e){return e.userModule})).users;Object(c.useEffect)((function(){n(k()),m(),console.log("user in userProfile:",A)}),[]);var u=A.userName,j=A.fullName,b=A.email,m=function(){var e=k(),t=i.find((function(t){return t._id===e._id}));console.log("correctUser",t),o(t.imgUrl)};return A?Object(d.jsxs)("section",{className:"user-profile",children:[Object(d.jsxs)("h4",{children:[" Hello ",j.charAt(0).toUpperCase()+j.slice(1,A.fullName.indexOf(" ")),", This is your profile page. "]}),Object(d.jsx)("img",{src:a,alt:"userImg"}),Object(d.jsx)("div",{className:"additional-info",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("div",{className:"forty-five"}),Object(d.jsx)("br",{}),Object(d.jsxs)("li",{children:["User Name: ",u]}),A&&Object(d.jsxs)("li",{children:["Email: ",b]}),Object(d.jsxs)("li",{children:["Been a user since:"," ",new Date(1e3*A.createdAt).toLocaleDateString("he-IL")]})]})})]}):Object(d.jsx)("div",{children:"no logged in user"})};var ue=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.userModule})),A=t.loggedInUser,n=t.ready,s=t.guestUser;Object(c.useEffect)((function(){e(E());var t=k();t?(e(function(e){return function(){var t=Object(x.a)(f.a.mark((function t(A){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("guest"!==e.sex){t.next=5;break}A({type:"LOGIN_GUEST",user:e}),A({type:"GET_USERS"}),t.next=17;break;case 5:return console.log("loggin in as user in persistent login"),t.prev=6,t.next=9,w("user",e._Id);case 9:t.sent&&(A({type:"LOGIN",user:e}),A({type:"GET_USERS"})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),console.log("persistLogin error:",t.t0),console.log("user does not exist (persistLogin)");case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}()}(t)),e(M(!0))):e(M(!0))}),[]);var r=function(e){return k()?Object(d.jsx)(a.b,{path:e.path,component:e.component}):Object(d.jsx)(a.a,{to:"/:landingPage"})},i=function(e){return k()?Object(d.jsx)(a.a,{to:"/"}):Object(d.jsx)(a.b,{path:e.path,component:e.component})},l=function(e){return A?Object(d.jsx)(a.b,{path:e.path,component:e.component}):Object(d.jsx)(a.a,{to:"/:landingPage"})};return n?Object(d.jsxs)(o.a,{children:[(A||s)&&Object(d.jsx)(z,{}),Object(d.jsx)("main",{className:"App",children:Object(d.jsxs)(a.d,{children:[Object(d.jsx)(r,{path:"/rooms/:id",component:oe}),Object(d.jsx)(r,{path:"/rooms",component:$}),Object(d.jsx)(r,{path:"/about",component:Z}),Object(d.jsx)(l,{path:"/myProfile/:id",component:le}),Object(d.jsx)(i,{path:"/:landingPage",component:ie}),Object(d.jsx)(r,{path:"/",component:b})]})}),(A||s)&&Object(d.jsx)(m,{})]}):Object(d.jsxs)("div",{className:"lds-ripple",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})},de=function(e){e&&e instanceof Function&&A.e(3).then(A.bind(null,202)).then((function(t){var A=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;A(e),c(e),n(e),s(e),r(e)}))},je=A(51),be=A(113),me={users:null,loggedInUser:null,guestUser:null,wrongCreds:null,isRegisteredUser:!1,ready:!1};var Oe={rooms:null,filteredRooms:null,currRoom:null,filterBy:{topic:"",description:"",tags:[],name:""}},ge={currChatMsgs:null,quota:null,roomFull:!1},pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.c,he=Object(je.b)({roomModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ROOMS":return Object(g.a)(Object(g.a)({},e),{},{rooms:t.data.rooms,filteredRooms:t.data.filteredRooms});case"GET_ROOM":case"SET_CURR_ROOM":return Object(g.a)(Object(g.a)({},e),{},{currRoom:t.room});case"SET_FILTER":return Object(g.a)(Object(g.a)({},e),{},{filterBy:Object(g.a)(Object(g.a)({},e.filterBy),{},{topic:t.filterBy,description:t.filterBy,name:t.filterBy})});case"SET_TAGS":return Object(g.a)(Object(g.a)({},e),{},{filterBy:Object(g.a)(Object(g.a)({},e.filterBy),{},{tags:t.tags})});default:return e}},chatModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MSGS":return Object(g.a)(Object(g.a)({},e),{},{currChatMsgs:t.msgs});case"ADD_MSG":return Object(g.a)(Object(g.a)({},e),{},{currChatMsgs:Object(i.a)(e.currChatMsgs)});case"STAR_MSG":case"UN_STAR_MSG":return Object(g.a)(Object(g.a)({},e),{},{currChatMsgs:e.currChatMsgs.map((function(e,A){return A===t.idx?t.msg:e}))});case"LIKE_MSG":case"UN_LIKE_MSG":return Object(g.a)(Object(g.a)({},e),{},{currChatMsgs:e.currChatMsgs.map((function(e,A){return A===t.idx?t.msg:e}))});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_READY":return Object(g.a)(Object(g.a)({},e),{},{ready:t.isReady});case"LOGIN":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:t.user,guestUser:null});case"LOGIN_GUEST":return Object(g.a)(Object(g.a)({},e),{},{guestUser:t.user,loggedInUser:null});case"LOGOUT":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:null,guestUser:null});case"LOGIN_ERROR":case"SIGNUP_ERROR":return Object(g.a)(Object(g.a)({},e),{},{wrongCreds:t.isWrong});case"SET_REGISTERED_USER":return Object(g.a)(Object(g.a)({},e),{},{isUser:t.isUser});case"GET_USERS":return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case"ADD_TATTOO_TO_USER":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:Object(g.a)(Object(g.a)({},e.loggedInUser),{},{tattoos:[].concat(Object(i.a)(e.loggedInUser.tattoos),[t.tatId])})});case"REMOVE_TATTOO_FROM_USER":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:Object(g.a)(Object(g.a)({},e.loggedInUser),{},{tattoos:e.loggedInUser.tattoos.map((function(e){return e.id!==t.tatId?t.tatId:e}))})});case"SET_USER_IMAGE":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:Object(g.a)(Object(g.a)({},e.loggedInUser),{},{userImg:t.img})});case"READY":return Object(g.a)(Object(g.a)({},e),{},{ready:t.readyState});case"SET_USER_BIO":return Object(g.a)(Object(g.a)({},e),{},{bio:t.bio});default:return e}}}),fe=Object(je.d)(he,pe(Object(je.a)(be.a)));r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(O.a,{store:fe,children:Object(d.jsx)(ue,{})})}),document.getElementById("root")),de()}},[[201,1,2]]]);
//# sourceMappingURL=main.61f54820.chunk.js.map