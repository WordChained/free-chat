{"version":3,"sources":["cmps/SearchForm.tsx","pages/MainPage.jsx","cmps/AppFooter.jsx","services/async-storage.service.js","services/httpService.js","services/utilService.js","store/actions/userActions.js","assets/imgs/closed-eye.png","assets/imgs/open-eye.png","cmps/Signup.jsx","cmps/Login.jsx","assets/imgs/setting.png","assets/imgs/tattoo-male.png","assets/imgs/tattoo-female.png","assets/imgs/guest.png","cmps/UserDropdown.jsx","assets/imgs/logout.png","assets/imgs/chat-logo.png","cmps/AppHeader.jsx","pages/About.jsx","store/actions/roomActions.js","cmps/RoomPreview.jsx","cmps/RoomList.jsx","pages/Rooms.jsx","services/socketService.js","store/actions/chatActions.js","cmps/AlwaysScrollToBottom.jsx","cmps/MsgEditOptions.jsx","assets/imgs/star.png","assets/imgs/like.png","cmps/Chat.jsx","assets/imgs/edit.png","assets/imgs/like2.png","assets/imgs/send.png","assets/imgs/attachment.png","assets/imgs/smiley.png","pages/Room.jsx","pages/LandingPage.jsx","pages/UserProfile.jsx","App.jsx","reportWebVitals.js","store/reducers/userReducer.js","store/reducers/roomReducer.js","store/reducers/chatReducer.js","store/index.js","index.js"],"names":["SearchForm","useState","showTopics","setShowTopics","topics","setTopics","onSubmit","ev","preventDefault","length","console","log","map","topic","value","name","id","type","onChange","checked","htmlFor","isMulti","options","label","newValue","actionMeta","action","MainPage","AppFooter","className","Date","now","getFullYear","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","dir","makeId","text","possible","i","charAt","Math","floor","random","getUsers","dispatch","users","login","userCred","isGuest","_id","user","userName","fullName","createdAt","imgUrl","likedRooms","birthday","sex","_saveLocalUser","isWrong","sessionStorage","setItem","JSON","stringify","getLoggedinUser","parse","getItem","setReady","isReady","Signup","close","onLoginLink","useForm","register","handleSubmit","history","useHistory","useParams","useDispatch","useSelector","state","userModule","loggedInUser","isUser","pass","useRef","passwordMatch","setPasswordMatch","show","setShow","error","setError","toggleShowPassword","stopPropagation","useEffect","landingPage","onClick","validation","test","password","email","passwordVer","replace","newUserCred","cretedAt","signup","required","placeholder","maxLength","defaultValue","disabled","minLength","src","openEye","closedEye","alt","ref","Login","onSignupLink","wrongCreds","trim","UserDropdown","logout","showDropdown","setShowDropdown","defaultImg","setDefaultImg","guestUser","guest","maleUser","femaleUser","closeDropdown","document","body","addEventListener","cogWheel","querySelector","current","isClickedInside","contains","target","setting","tabIndex","to","AppHeader","showSignup","setShowSignup","showLogin","setShowLogin","logo","activeClassName","exact","clear","push","About","setCurrRoom","room","RoomPreview","limit","restrictions","join","RoomList","rooms","border","routeToRoom","Rooms","memo","roomModule","filterBy","filteredRooms","query","onTagsSubmit","tags","setTags","debounce","setFilterBy","autoComplete","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","window","getMsgs","roomId","msgs","AlwaysScrollToBottom","elBottom","scrollIntoView","MsgEditOptions","msg","currUser","isLiked","isStarred","currRoom","justLiked","setJustLike","justStarred","setJustStarred","star","includes","likes","uid","msgId","idx","findIndex","filter","u","starMsg","alert","likeMsg","Chat","reset","currChatMsgs","chatModule","sent","setSent","setCurrUser","isEmpty","setIsEmpty","edit","currMsgToEdit","setCurrMsgToEdit","topicToWatch","guestImg","isEdit","addMsg","setTimeout","isLikedByCurrUser","find","isStarredByCurrUser","getSenderInfo","sender","crossOrigin","format","colorCount","loading","style","backgroundColor","boxShadow","sentAt","toLocaleTimeString","hour","minute","nameToAttatch","newMsg","spellCheck","onKeyUp","cogwheel","Room","setSocket","socketIOClient","goBack","LandingPage","UserProfile","setUser","userImg","setUserImg","getUserImg","userInSession","correctUser","toUpperCase","slice","indexOf","toLocaleDateString","App","ready","_Id","persistLogin","PrivateRoute","props","path","component","NoneUsers","RegisteredUserRoute","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","isRegisteredUser","description","quota","roomFull","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","tattoos","tatId","tat","img","readyState","bio","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.61f54820.chunk.js","sourcesContent":["import React, { FormEvent } from 'react';\r\n\r\n// import Select from 'react-select';\r\nimport CreatableSelect from 'react-select/creatable';\r\n// import makeAnimated from 'react-select/animated';\r\nimport { ActionMeta, OnChangeValue } from 'react-select';\r\n\r\nimport { useState } from 'react';\r\n\r\nexport const SearchForm = () => {\r\n  interface Option {\r\n    value: string;\r\n    label: string;\r\n  }\r\n  interface keyable {\r\n    [key: string]: any;\r\n  }\r\n  // const animatedComponents = makeAnimated();\r\n\r\n  const options: Option[] = [\r\n    { value: 'music', label: 'Music' },\r\n    { value: 'food', label: 'Food' },\r\n    { value: 'video games', label: 'Video Games' },\r\n    { value: 'code', label: 'Code' },\r\n    { value: 'love', label: 'Love' },\r\n    { value: 'art', label: 'Art' },\r\n  ];\r\n  const [showTopics, setShowTopics] = useState(false);\r\n  const [topics, setTopics] = useState<keyable[]>([]);\r\n\r\n  const handleChange = (\r\n    newValue: OnChangeValue<Option, true>,\r\n    actionMeta: ActionMeta<Option>\r\n  ) => {\r\n    console.log('new value:', newValue);\r\n    console.log(`action: ${actionMeta.action}`);\r\n    setTopics([...newValue]);\r\n  };\r\n  const search = (ev: FormEvent<HTMLFormElement>) => {\r\n    ev.preventDefault();\r\n    //if its topics and there are no topics, dont search\r\n    if (showTopics && !topics.length) {\r\n      console.log('Please pick at least one topic');\r\n      //need to add user message here\r\n      return;\r\n    }\r\n    console.log('topics:', topics);\r\n    topics.map((topic) => console.log(topic.value));\r\n  };\r\n\r\n  // const setChatType = (ev: ChangeEvent<HTMLInputElement>): string => {\r\n  //   console.log('value:', ev.target.value);\r\n  //   if (ev.target.value === 'free-search') setShowTopics(false);\r\n  //   else setShowTopics(true);\r\n  //   return;\r\n  // };\r\n  return (\r\n    <div>\r\n      <form onSubmit={search}>\r\n        <div>\r\n          <input\r\n            name=\"chat-type\"\r\n            id=\"free-search\"\r\n            type=\"radio\"\r\n            value=\"free-search\"\r\n            onChange={() => setShowTopics(false)}\r\n            checked={!showTopics}\r\n          />\r\n          <label htmlFor=\"free-search\"> Free Search</label>\r\n        </div>\r\n        <div>\r\n          <input\r\n            name=\"chat-type\"\r\n            id=\"topics\"\r\n            type=\"radio\"\r\n            value=\"topics\"\r\n            onChange={() => setShowTopics(true)}\r\n          />\r\n          <label htmlFor=\"topics\"> Search people by topics</label>\r\n        </div>\r\n\r\n        {showTopics && (\r\n          <CreatableSelect\r\n            id=\"select-topic\"\r\n            isMulti\r\n            options={options}\r\n            onChange={handleChange}\r\n            // components={animatedComponents}\r\n          />\r\n        )}\r\n        <button type=\"submit\">Search for a chat</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { SearchForm } from '../cmps/SearchForm.tsx';\r\nexport const MainPage = () => {\r\n  return (\r\n    <section>\r\n      <h1>Free Chat</h1>\r\n      <SearchForm />\r\n    </section>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const AppFooter = () => {\r\n  return (\r\n    <div className=\"app-footer\">\r\n      <div>© Copyrights {new Date(Date.now()).getFullYear()}</div>\r\n    </div>\r\n  );\r\n};\r\n","// import { socketService, SOCKET_EVENT_REVIEW_ADDED } from './socketService'\r\n\r\n\r\n\r\n\r\nconst query = (entityType) => {\r\n    let entities = JSON.parse(localStorage.getItem(entityType)) || []\r\n    return Promise.resolve(entities)\r\n}\r\n\r\n\r\nconst get = async (entityType, entityId) => {\r\n    const entities = await query(entityType)\r\n    return entities.find(entity => entity._id === entityId)\r\n}\r\nasync function post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    const entities = await query(entityType)\r\n    entities.push(newEntity)\r\n    _save(entityType, entities)\r\n    return newEntity\r\n}\r\n// const postMany = (entityType, newEntities) => {\r\n//     return query(entityType)\r\n//         .then(entities => {\r\n//             newEntities = newEntities.map(entity => ({ ...entity, _id: _makeId() }))\r\n//             entities.push(...newEntities)\r\n//             _save(entityType, entities)\r\n//             return newEntities\r\n//         })\r\n// }\r\n\r\n\r\n\r\nconst put = async (entityType, updatedEntity) => {\r\n    const entities = await query(entityType)\r\n    const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n    entities.splice(idx, 1, updatedEntity)\r\n    _save(entityType, entities)\r\n    return updatedEntity\r\n}\r\n\r\nconst remove = async (entityType, entityId) => {\r\n    const entities = await query(entityType)\r\n    const idx = entities.findIndex(entity => entity._id === entityId)\r\n    entities.splice(idx, 1)\r\n    _save(entityType, entities)\r\n}\r\n\r\n\r\nconst _save = (entityType, entities) => {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nconst _makeId = (length = 5) => {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}\r\n\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\n\r\n","import Axios from 'axios'\r\n// import { router } from '@/router'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data:`, data)\r\n        console.dir(err)\r\n        // if (err.response && err.response.status === 401) {\r\n        //     // Depends on routing startegy - hash or history\r\n        //     // window.location.assign('/#/login')\r\n        //     // window.location.assign('/login')\r\n        //     router.push('/login')\r\n        // }\r\n        throw err\r\n    }\r\n}","\r\nexport function makeId(length = 5) {\r\n    var text = \"\";\r\n    var possible = \"0123456789\";\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text;\r\n}\r\n\r\nexport function getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1) + min); //The maximum is inclusive and the minimum is inclusive\r\n}\r\n\r\n","import { storageService } from '../../services/async-storage.service'\r\nimport { httpService } from '../../services/httpService'\r\n// import { socketService } from '../../services/socketService'\r\nimport { makeId } from '../../services/utilService'\r\n\r\n// const STORAGE_KEY_LOGGEDIN_USER = 'loggedInUser'\r\n// var gWatchedUser = null;\r\n\r\n\r\n\r\n//For chat sender ids. these dont belong in userActions!\r\n// export const saveUserId = (userId) => {\r\n//     sessionStorage.setItem('userId', JSON.stringify(userId))\r\n// }\r\n\r\n// export const getUserId = () => {\r\n//     const userId = sessionStorage.getItem('userId');\r\n//     if (userId) {\r\n//         return JSON.parse(userId);\r\n//     }\r\n//     return null;\r\n// }\r\n\r\n// window.userService = userService\r\n\r\nexport const getUsers = () => {\r\n    return async dispatch => {\r\n        try {\r\n            const users = await httpService.get(`user`)\r\n            dispatch({ type: 'GET_USERS', users })\r\n        } catch (err) {\r\n            console.log('getUsers error:', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const getById = (userId) => {\r\n    return async dispatch => {\r\n        try {\r\n\r\n            const user = await httpService.get('user', userId)\r\n            // gWatchedUser = user;\r\n            dispatch({ type: 'GET_USER', user })\r\n        } catch (err) {\r\n            console.log('getById error:', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const remove = (userId) => {\r\n    return storageService.remove('user', userId)\r\n}\r\n\r\nexport const update = (user) => {\r\n    return async dispatch => {\r\n        try {\r\n            console.log('user to update:', user);\r\n            user = await httpService.put(`user/${user._id}`, user)\r\n            console.log(user);\r\n            // Handle case in which admin updates other user's details\r\n            if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n            dispatch({ type: 'UPDATE_USER', user })\r\n        } catch (err) {\r\n            console.log('eeror in update:', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const login = (userCred, isGuest = false) => {\r\n    return async dispatch => {\r\n        if (isGuest) {\r\n            const _id = makeId(7)\r\n            const user = {\r\n                _id,\r\n                userName: `guest`,\r\n                fullName: `guest${_id}`,\r\n                createdAt: Date.now(),\r\n                imgUrl: '',\r\n                likedRooms: [],\r\n                birthday: Date.now(),\r\n                sex: 'guest'\r\n            }\r\n            _saveLocalUser(user)\r\n            dispatch({ type: 'LOGIN_GUEST', user })\r\n            dispatch({ type: 'GET_USERS' })\r\n        }\r\n        else {\r\n            try {\r\n                const user = await httpService.post('auth/login', userCred)\r\n                if (user) _saveLocalUser(user)\r\n                dispatch({ type: 'LOGIN', user })\r\n                dispatch({ type: 'GET_USERS' })\r\n\r\n            } catch (err) {\r\n                console.log('login error:', err);\r\n                dispatch({ type: 'LOGIN_ERROR', isWrong: true })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const signup = (userCred) => {\r\n    const newUserCred = { ...userCred, imgUrl: '', likedRooms: [], cretedAt: Date.now() }\r\n    return async dispatch => {\r\n        try {\r\n            const user = await httpService.post('auth/signup', newUserCred)\r\n            _saveLocalUser(user)\r\n            dispatch({ type: 'SIGNUP', user })\r\n        } catch (err) {\r\n            console.log('signup error:', err);\r\n            dispatch({ type: 'LOGIN_ERROR', isWrong: true })\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    sessionStorage.clear()\r\n    return dispatch => {\r\n        dispatch({ type: 'LOGOUT' })\r\n    }\r\n}\r\n\r\nconst _saveLocalUser = (user) => {\r\n    sessionStorage.setItem('loggedInUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nexport const getLoggedinUser = () => {\r\n    return JSON.parse(sessionStorage.getItem('loggedInUser') || 'null')\r\n}\r\n\r\nexport const persistLogin = (user) => {\r\n    return async dispatch => {\r\n        if (user.sex === 'guest') {\r\n            dispatch({ type: 'LOGIN_GUEST', user })\r\n            dispatch({ type: 'GET_USERS' })\r\n        }\r\n        else {\r\n            console.log('loggin in as user in persistent login');\r\n            try {\r\n                const userId = await httpService.get('user', user._Id)\r\n                if (userId) {\r\n                    dispatch({ type: 'LOGIN', user })\r\n                    dispatch({ type: 'GET_USERS' })\r\n                }\r\n            } catch (err) {\r\n                console.log('persistLogin error:', err);\r\n                console.log('user does not exist (persistLogin)');\r\n            }\r\n        }\r\n    }\r\n}\r\nexport const setReady = (isReady) => {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_READY', isReady })\r\n    }\r\n}\r\n// This IIFE functions for Dev purposes\r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n// (async () => {\r\n//     // var user = getLoggedinUser()\r\n//     // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n\r\n//     // Here we are listening to changes for the watched user (coming from other browsers)\r\n//     window.addEventListener('storage', async () => {\r\n//         if (!gWatchedUser) return;\r\n//         const freshUsers = await storageService.query('user')\r\n//         const watchedUser = freshUsers.find(u => u._id === gWatchedUser._id)\r\n//         if (!watchedUser) return;\r\n//         gWatchedUser = watchedUser\r\n//     })\r\n// })();\r\n\r\n// This is relevant when backend is connected\r\n// (async () => {\r\n//     //TODO: How does this work?\r\n\r\n//     const user = getLoggedinUser()\r\n//     if (user) socketService.emit('set-user-socket', user._id)\r\n// })();\r\n\r\n// export const likedRoom = (song) => {\r\n//     const user = getLoggedinUser()\r\n//     try {\r\n//         await httpService.put(`/user/song/${user._id}`, song)\r\n//     } catch (err) {\r\n//         console.log('Error on user service => likedSong')\r\n//         throw err\r\n//     }\r\n// }","export default __webpack_public_path__ + \"static/media/closed-eye.938717ca.png\";","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport { signup } from '../store/actions/userActions';\r\nimport closedEye from '../assets/imgs/closed-eye.png';\r\nimport openEye from '../assets/imgs/open-eye.png';\r\nimport { useRef } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nexport const Signup = ({ close, onLoginLink }) => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    // getValues\r\n  } = useForm();\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const { loggedInUser, isUser } = useSelector((state) => state.userModule);\r\n  const pass = useRef({});\r\n\r\n  const [passwordMatch, setPasswordMatch] = useState(true);\r\n  const [show, setShow] = useState(false);\r\n\r\n  //useState:\r\n  // const passwordValidation = getValues(['password']);\r\n  // const passwordValidationVer = getValues(['passwordVer']);\r\n  const [error, setError] = useState('');\r\n\r\n  const onSubmit = (data) => {\r\n    const validation = /^[^<>%$]*$/;\r\n    if (\r\n      !validation.test(data.password) ||\r\n      !validation.test(data.email) ||\r\n      !validation.test(data.userName) ||\r\n      !validation.test(data.fullName)\r\n    ) {\r\n      setError(\"Don't use the following charaters: ^,<,>,%,$\");\r\n      return;\r\n    } else if (data.password === data.passwordVer) {\r\n      // console.log('password', data.password);\r\n      // console.log('data', data);\r\n      setPasswordMatch(true);\r\n      setError('');\r\n      history.replace('/');\r\n      dispatch(signup(data));\r\n      // dispatch(login(data.email, data.password));\r\n      if (isUser) {\r\n        setError('Email is already in use. forgot password?');\r\n      } else {\r\n        close();\r\n        // window.location.reload(false);\r\n      }\r\n    } else {\r\n      console.log(\"Passwords don't match!\");\r\n      setError(\"Passwords don't match!\");\r\n      setPasswordMatch(false);\r\n    }\r\n  };\r\n\r\n  const toggleShowPassword = (ev) => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n    setShow(!show);\r\n  };\r\n  useEffect(() => {\r\n    if (loggedInUser !== null) {\r\n      close();\r\n    }\r\n    //eslint-disable-next-line\r\n  }, [loggedInUser]);\r\n\r\n  return (\r\n    <section className={params.landingPage ? '' : 'screen-cover'}>\r\n      <div className=\"signup-container\">\r\n        {!params.landingPage && (\r\n          <button onClick={close} className=\"close\">\r\n            X\r\n          </button>\r\n        )}\r\n        <h3>SIGNUP</h3>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <input\r\n            required\r\n            {...register('userName')}\r\n            type=\"text\"\r\n            className=\"userName\"\r\n            placeholder=\"Choose a user name\"\r\n            maxLength={12}\r\n          />\r\n          <input\r\n            required\r\n            {...register('fullName')}\r\n            type=\"text\"\r\n            className=\"fullName\"\r\n            placeholder=\"Your full name\"\r\n          />\r\n          <select required {...register('sex')} name=\"sex\" id=\"sex\">\r\n            <option defaultValue disabled value=\"\">\r\n              Sex\r\n            </option>\r\n            <option value=\"male\">Male</option>\r\n            <option value=\"female\">Female</option>\r\n          </select>\r\n          <input\r\n            required\r\n            {...register('birthday')}\r\n            type=\"date\"\r\n            name=\"birthday\"\r\n          />\r\n          <input\r\n            required\r\n            {...register('email')}\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Enter your email\"\r\n          />\r\n          <div className=\"passwords-container\">\r\n            <input\r\n              className={passwordMatch ? '' : 'wrong'}\r\n              required\r\n              {...register('password')}\r\n              type={show ? 'text' : 'password'}\r\n              name=\"password\"\r\n              minLength=\"6\"\r\n              placeholder=\"Enter your password\"\r\n            />\r\n            <button\r\n              className=\"show-pasword-btn\"\r\n              onClick={(ev) => toggleShowPassword(ev)}\r\n            >\r\n              <img\r\n                className=\"show-password\"\r\n                src={show ? openEye : closedEye}\r\n                alt=\"closedEye\"\r\n              />\r\n            </button>\r\n          </div>\r\n          <div className=\"passwords-container\">\r\n            <input\r\n              className={passwordMatch ? '' : 'wrong'}\r\n              required\r\n              {...register('passwordVer')}\r\n              type={show ? 'text' : 'password'}\r\n              name=\"passwordVer\"\r\n              placeholder=\"Verify your password\"\r\n              minLength=\"6\"\r\n              ref={pass}\r\n            />\r\n            <button\r\n              className=\"show-pasword-btn\"\r\n              onClick={(ev) => toggleShowPassword(ev)}\r\n            >\r\n              <img\r\n                className=\"show-password\"\r\n                src={show ? openEye : closedEye}\r\n                alt=\"closedEye\"\r\n              />\r\n            </button>\r\n          </div>\r\n          <input type=\"submit\" value=\"signup\" />\r\n          {error && <div>*{error}</div>}\r\n          {isUser && <div>*This email is already in use</div>}\r\n        </form>\r\n        <p>\r\n          Already a member?{' '}\r\n          <span className=\"link\" onClick={onLoginLink}>\r\n            login\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport { login } from '../store/actions/userActions';\r\n\r\nimport closedEye from '../assets/imgs/closed-eye.png';\r\nimport openEye from '../assets/imgs/open-eye.png';\r\n\r\nexport const Login = ({ close, onSignupLink }) => {\r\n  const { register, handleSubmit } = useForm();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const { loggedInUser, wrongCreds } = useSelector((state) => state.userModule);\r\n\r\n  const onSubmit = (data) => {\r\n    const validation = /^[^<>%$]*$/;\r\n    if (!validation.test(data.password) || !validation.test(data.userName)) {\r\n      setError(\"Don't use the following charaters: ^,<,>,%,$\");\r\n      return;\r\n    }\r\n    const userName = data.userName.trim();\r\n    const password = data.password.trim();\r\n\r\n    history.replace('/');\r\n    dispatch(login({ userName, password }));\r\n    // close();\r\n  };\r\n  useEffect(() => {\r\n    if (loggedInUser !== null) {\r\n      setError('');\r\n      close();\r\n    }\r\n    //eslint-disable-next-line\r\n  }, [loggedInUser]);\r\n\r\n  const [error, setError] = useState('');\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    if (wrongCreds) {\r\n      setError('Wrong Password or eMail');\r\n    }\r\n  }, [wrongCreds]);\r\n\r\n  const toggleShowPassword = (ev) => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n    setShow(!show);\r\n  };\r\n  return (\r\n    <section className={params.landingPage ? '' : 'screen-cover'}>\r\n      <div className=\"login-container\">\r\n        {!params.landingPage && (\r\n          <button onClick={close} className=\"close\">\r\n            X\r\n          </button>\r\n        )}\r\n        <h3>Login</h3>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <input\r\n            className={wrongCreds ? 'wrong' : ''}\r\n            {...register('userName')}\r\n            type=\"text\"\r\n            name=\"userName\"\r\n            placeholder=\"Enter your userName\"\r\n            required\r\n          />\r\n          <div className=\"passwords-container\">\r\n            <input\r\n              className={wrongCreds ? 'wrong' : ''}\r\n              {...register('password')}\r\n              type={show ? 'text' : 'password'}\r\n              name=\"password\"\r\n              required\r\n              placeholder=\"Enter your password\"\r\n            />\r\n            <button\r\n              className=\"show-pasword-btn\"\r\n              onClick={(ev) => toggleShowPassword(ev)}\r\n            >\r\n              <img\r\n                className=\"show-password\"\r\n                src={show ? openEye : closedEye}\r\n                alt=\"closedEye\"\r\n              />\r\n            </button>\r\n          </div>\r\n          <input type=\"submit\" value=\"Log In\" />\r\n        </form>\r\n        {/* <button>Google</button> */}\r\n        {error && <div>*{error}</div>}\r\n        <p>\r\n          not a member yet?{' '}\r\n          <span className=\"link\" onClick={onSignupLink}>\r\n            signup!\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/setting.d253e01d.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASBSURBVEiJlZbbb1VFFIe/2ZfTK9Dall4AKaVKoBK8oKDxQbmImlQfCIagiAkRtQ8m+h9AgvHFYDQhAiZEEogiiU1QpCiCUVKJWLkduZZSymnpaXvantNz3bNn+dAL0JYWJpm99p7Z6/ut2WvNZCsmaXLrTB5RU4ev15DxFqDT4GWCaO97emW7qq1NTOSvJoR3XFlAOnMQz6vC88DLgM4M2sHnZvxMrVq59sK9GNY94eGWMow6AqpqghjmYmiQhj3TH1gAsbYAMyaAD7dZaDY/kIC0teWg1Lr7gA858JYc25193wKRjgubgvt25YnxJ2UbY/in8c/8rl696b4EpLfjbUusbf2tzXjxOCJCPJUe45jwPATIpJKEw50oN+dzaTq+fvIVpJN1Eh9QnvbxUim+OdrIhq1fkLhDJOlp3t3bwFdHG8l4Hp72kWRCEYvWjcY5YwT629olFkFrTToexbVtXNtG3VHQSikcy8K1bdLJJJ7WmGQ/pOzQ5AIFe/7yuqcv9bRfHgt38uaLS1izZCGurzH9PeBrst0Au9a9TEA0V86eRmufTPfVDl5Kn5z8E9HddPFS6LDna7qaLwMQcB3Ey5C+doVUSzNGewScQddb7e14WnM62HYI1dc0mjbuTv5hw6uXjcgjlu2wvO5jkpEeQv+dIx7pQYwhJz+fmZWV5LgBDn63D09rROTyxvo/5k0qsH/dqmdQnBQRjAgigpjb9yNj48xj1NPvHzpxasIc+EbPMcIYiDHjgEfNA3OAiQVSKb/BzQ60e166YgxsHJFhawVybiVSiSOjeXcJiIgTHfAO9EfjFS1fv0PrtQyJSD/GmPFFgNzCqVTOzSL52o4ySzI35JfqIqWUHpMDkWBAR0sPRJ2iWgC750cSHUF63NVMObyDtJfB04NHh2NbZLkBYq+8R3FkJwPubG4Ur8exFcHfvu2t++D5MqVqMnevoDP3S2WlaodHzEPLKNQn6XfLKXliMbY/EtRgrmyHvqIKpl3/l9b5H5IbsLFtiymWKjx+uOUQsAKG9oFcP7/6ZtvNTdv21o8AjMrFUE6Zc46+hcuxS8txS0pxS0qxSyvorllBSaSeZMEC3NwicrNsclyLcKSXvT8fW75922efAFgioiQe3/rTiVPEYlGMgD/UB4o34t7Yg2OFCM1+lvCMRXTOWETrw0uxYk0UhPbTMXcz2a5DwLEIBGySySRrltTw+lM1a0REOfz9++JfL1ydV+go5lTNxAAiIICoLHqrPsU9v4Vpro2esgiMR0nXCUQUbQt34mbnoyyFZSkEIZaIE77Vxe6zwer5Z87U2rXLXvio/tS552KxGNXl0ymc9zhGwDDYxc4iXbaSDr8SM9CFLza9M94g9vBa7Kw8HEdhOwoUCIrqvlaCoQ6isQR5ju05jcFLq6ryXS62h1laUUTYmMHoh1YxXGoFZXNJFMxCK4VlK1xLoQClwAy9KMCjxVN5smg+oBAUTo6fDg0MxB8rtVGxSB/Nnbf/QmSURcCIoNRwfQ9ezUipQ8FAGjceBsSoQFbn/3BAnPIzxNYDAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAxtSURBVHic7Zt5dNTVFcc/7zdLJpPMZLKQDbIAISQsQSGBRmsVESxCgaKirSDao7Za21qXWsSqrXY9aq22p2LtghY3jrgDgqAsFlxQMaWCEEGWkGQIZJkhk9le/3gzk8wwmUkmI3JavufMyeQt991333333XvfGziN0ziN/2eIAfYdA5QDWkTd58CHgGcA9E9pZAGrARnjsx0Y+WUx2FckqgFPA5cDHwNrAF9E/URgMkoINfyPaUIqakIHAXOMdm+iNKH6ZDCVKCL3bl9QCuhRq388Rrstgb8jEhjjpCERAQT7+OO0C9YnMsZJwynNXAwYkkUoEQHsR+3/rclioo8wAvcADYAbOAAsQm3HUxK/QxnBS5NASwArAKkJZGGmXuo0/AH6/0gC/aQjHdiBYrAyCfQuAGTJIIN/y30lsuHRMrnxnmKZl6EP+hxLUcduvzU6WTYgD3gMWAu8AewBRgEvA58kgf5UgO9PyxQlOWr7l+Ub+d5UW7D+SmA9sA/4VWDsPiFZAvgNcC1qpaYAmSjVvDJJ9HUABl1EYYD7tJwRmLOGAqIIZRd2AO8DP0ItTq8YSCzQE+tRKnguykAeRBmqZOEi4LXheUaW/7iQfJuehmNevnn/IQ60eCiquZrUjCK8rnbaG+toP/wxbqc92NcLvI7S0JcjCSdbAMOAvUmi2RMCeA2YbjIIWZxjEHubPXh8EqEzkFt+IZa8UWh6U6hDV8dh2g9/THvjDnxuR7D4UeD6SMLJwBctAFAu+L3AQiAHaAE6UJ4pQtPL9EHlwppfhTmnDCHU/pDSz/GWepp2rsTragMYj4pUgeQJYA3KUBWjzucvGhlAG4r/s4EFwDzABqAzmLHkj8ZaUIXJOhiA5l2raD3wHqgT4z6UoU4azgfuSibBBJACXAx8RI+w3GjOltaCKik0vZ/wcP1tYM6XxewXiaAD9jQqIAtO2AXciFqoTwNlh5M1aAFKFU8FRHqgxajTyRbRbhIwLlmDrkAdNznJIjgA9MsFT1YgkSxjmiguAa5GOT1DAmXzUaq+/WQwMAQ472QMFAU30Hte0oM6NgeMbGA0MAGoQp3JfYEeFQwF++WTXG3JEtBm0Ov8S2+/Ue5+4hF5zUVTJCBn1k6QKQa9X0AXMLQ3ArFiAStwJ0qNjgD/RvnX24UQR4Fb4jA3RwjRAPwn2A9ldRuAh4DBfZtjTNwqwbrggq+JiyadicPlYvdBZdhNBgOjS4uEVHmE+f0lPB7l0UlAmnUmCcjSYSNk7TmTpcmUGlSxRwkEKhH4AeDXNJ2snvRVOWrsmRKQJs0oNSEkIAW0ArMTmXUAuQIcJqPBX/f4A7L5+cdlcV5Ob1thRX8If12AA5A1mZXy4aofy5+MmC8BOWPOPFlv98lX3twmc/MKgsRfpHtLCOC3gDSZUuWSJ16Q9XafvO3OX0lAzhs8Rf7ljEXyorxaKRASdXIkukcfBOT3vjFN2lf8Ve5+4hEJyOL8XLlk8c1yyeKb5c+uWSAt5lSJSttPjEYk8hSYgZKWcX7RhczKPweALIOVFJ2RDetW43Z3MWrMGSxftZnvXDaD+t07ZwPrUF7Y74D5tsws/rLsJcbXnAXA2lUvAVBjqyTDkMZVxTOotJTyh/rnNK/0/Q3YgIrl+4pCAdenmlLkj+ZOFwASCUCOLYPr5s4MNSwuyOXaex/QUCfFu5GEetqAMcCzgPGq4pmhyQMYNQPjrGU4OtrZuvktAIYUlXL9TYuCTWpRW2Y+wMWXLwxNvqmxge0fvEteShYl5vwQzUmZo1lcvlBMzZ3oeHjMbdG2USwslmC6bsYUkZNhjdlw3Iiy4NeohjAoAAEsAdIuLpzM9LyvnNCwxqYyW2tWvhgqszcpg6MzpgGkBP7S3NTtYa5b/QpSSqptFSfQHG0dxrUls6z5qbZnn6t9sK8nS7GAayzmVHnD7K/HbSzinDlBAXwbOGt42mDmDT4/asMJtgp0QmPd6lfw+1XKv6mxAYDckdMZMn4BQ8YvAMIFsDYgsImZsbJUcsIL+1evQyUt4qW875JgvGHWNJGZnhanaXxoKCv+SwFcXTwD0csxna5PpdJSSnPTYbZvewfo1gCDyYo5ayhGcxYAzY2qvKO9jS2b38JqSGNkenFMRg66mmtRabVbYzQbASzMtKTJ786c2udJxoKGyuGVVFhKKY/DZGgbBIxaU2CiuhQLAELTozOYQhrw1hur8HjcTMioQBOx04+XFE7GoOklKlobFlF9NuoqbiWgv3HOdGExqx1ztMPB0jUbeOzVN6LS/WTv/uDXlmj1epTlpzZrTEwGASZmjuYf+1ey5rUXuf2u3wS2gEBvTA+10RktOB12nI6OHuofPzNeYMpmbsG54tlD60woR2lWoEpD+RshBvc1NtPc2oYtPY25d9/Pjn3dOZhjHQ6Wv7EBgEPNR7jv8SdloOqp3gQwEeCMjPh3mNlGK6XmAvZ+tps9n36CvekwOkMqQus24voUC26nnYMH9rFh/euk6IyMtQ6PSxtgdsHXWH9kG/au1pmoUHU7yj6NqUgvYWzGcF5tfFs+uXajeH7jVjmpslwEJr8RWAb8dO+hw0Pn3f7znmQl6kZpY7QxNaBMADnG7nC5xd1Glz/6lX5wNZ9/ZikuVyf6gPp3C0Bpw4vLl+HoaOcMaxlGraddk7R5nLS4O2hwhWulXuiCx69ApbcNAea5omgalxaezx+rbhGz8s/B6/GLNz/6d7Dr2ygDOiPwHeAl4G7U+4R7o04mIIAMqyENvVCr6PK7uanuIR6qfzZqh5qANV++7O+BCUcKwBJWXxNh/b1+P05fFy83buKmut+z23kwrH5yzngyDOmgHJdfAsPPzChnZHoJABa9mflDLuSukddydlZVsNvtQBrqEuZfgbJlwC+AD3qbfFAABqNmDBUc97ro8ntweDujdihOzaPAlM2xo0cCE04Pqw8K4NjRI+iEjgkZ4a9kghuyw+sEwOENf2Jg1AxcmDsJ1Ol0mwC+NSTc4jt8LtL1qVRYQr7Nh4Az1kR7Q9ybIYnk8+ONfOZsCG2Lalu3UdNFaICuh0EcZSklTd9X/6YbUwZVowucGrVZYyk1F4Tx4/R1IpGsbgouNov7PUgAcTNCK5u2sHT/SkAZyjvKF1Jtq+CVxs2KQC9bAKCmD9Y/KlNCh1Ez4PZ7mDd4Slidw+vCJyXbWndyyGUHZdxeT2gg+qABVdYyvpo9jtqssUzNVQFVhaUEm0FNtLctIBAhvyEW9jgOnlD23KF1dPq6mJY7kUJTd5rRj8Thc+GTflZ1r/4dcQeJgbgaUJSayw+HhecXBYLxtnLW27fh94WfFjKwTYamFZBtzIjLwLoj7zO38LyQygPUtddj0Zu5pDDcLXd4OpFSsvVoHS3uNlDXZW8zAGiaEJ8M7bHH+org6jrtu8KZbN4VVh8PR93tbGvdGVa2qPxKfj3qeiz67kdoPunD6evC4/eyxv4OKHt6Z78Zj4D+vuFXnTs8c1hzfztWWcsw6Yw4W+qRfl/IGXIEBBI7+AnHWvt7Ye3zUrJOaNPhdSGRbGz5kDaPA1To/lF/+Y6EVple4uktAIoFg6ZnnHUEfm8Xx49+BoC3qwNXewN5KVkUpca8lg/Dx217aOyK6qoD4PZ7Oe5z4/J1sd7+HkJleO7uN9NRoN2y88/VBzqbEuoctPLBVXc07wRkv1Yf2CyRPHVgTdRKP5JWjwOQrGregtPnQsLfUcnaAUPb62pa8eCeZxLqPMFWgV7T4bR/ClL2UP9+HX9/Ag5vPbaDlxs3hVW4/R7sXW14pZ93j+1g45EPEIgjwM8SYjgK9BIsbulNqHOazkRleil17fU4W/bQ2fo5VkM6I9KK+kOmHbgCWPnPA6+b6to/Y+qgGvJM2fglNLjsbGr5iA9adyIQHolcCDQmxHAUDPhqrCazkrr2epp3rUb6fVRnj4wb+0fBm8A0YNn2tt1F29t2n9BAIBolch6w6YTKAWDAj6Qm2kYhEHg6j4X+TxCbUM/rvwu8CuxCXca8BFwjkUNJ8uQhCRqQZbQyLK2QeuchTP2I/XtBJyqsfWygfPUVSXkmFwyOzswox6Cdsi9XoyIp3F4wqJoDnU3MLjgnfuNTDEkRQIYhnZuGX5YMUicdegCnt5NlB5Uj4vJ1AWB3HwuVJRN+6ee4r4t9x5P2PGfAqCf2j5++yI+P5Dym7olFAdpT4jUElXws5Mt74FRPnJxdAjCjMt0bif+rltM4jdP4P8d/AbC3O4zpMVzdAAAAAElFTkSuQmCC\"","import { Link } from 'react-router-dom';\r\n\r\n//imgs or icons:\r\nimport setting from '../assets/imgs/setting.png';\r\nimport logoutIcon from '../assets/imgs/logout.png';\r\nimport maleUser from '../assets/imgs/tattoo-male.png';\r\nimport femaleUser from '../assets/imgs/tattoo-female.png';\r\nimport guest from '../assets/imgs/guest.png';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const UserDropdown = ({ user, logout }) => {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [defaultImg, setDefaultImg] = useState('');\r\n\r\n  const { loggedInUser, guestUser } = useSelector((state) => state.userModule);\r\n  useEffect(() => {\r\n    if (guestUser) {\r\n      setDefaultImg(guest);\r\n    } else if (loggedInUser) {\r\n      setDefaultImg(loggedInUser.sex === 'male' ? maleUser : femaleUser);\r\n    }\r\n    //eslint-disable-next-line\r\n  }, []);\r\n  const toggleDropdown = () => {\r\n    setShowDropdown(!showDropdown);\r\n  };\r\n  const closeDropdown = () => {\r\n    setShowDropdown(false);\r\n  };\r\n  const ref = useRef();\r\n\r\n  //this closes the dropdown when i click outside the div/not on the settings button\r\n  document.body.addEventListener('click', (ev) => {\r\n    const cogWheel = document.querySelector('.corgwheel');\r\n    if (!ref.current) return;\r\n    ev.stopPropagation();\r\n    const dropdown = ref.current;\r\n    const isClickedInside = dropdown.contains(ev.target);\r\n    if (ev.target !== cogWheel && !isClickedInside) {\r\n      closeDropdown();\r\n    }\r\n  });\r\n  return (\r\n    <section className=\"user-dropdown\">\r\n      {/* <pre>{user}</pre> */}\r\n      <div>Hello {user.userName}!</div>\r\n      <img\r\n        className=\"header-user-img\"\r\n        src={user.imgUrl ? user.imgUrl : defaultImg}\r\n        alt=\"userImg\"\r\n      />\r\n      <img\r\n        className=\"corgwheel\"\r\n        onClick={() => toggleDropdown()}\r\n        src={setting}\r\n        alt=\"corgwheel\"\r\n      />\r\n      {showDropdown && (\r\n        <section ref={ref} tabIndex=\"-1\" className=\"dropdown\">\r\n          {!loggedInUser ? (\r\n            <Link\r\n              onClick={(ev) => ev.preventDefault()}\r\n              className=\"item disabled\"\r\n              to={`/myProfile/${user.userName}`}\r\n            >\r\n              My Profile\r\n            </Link>\r\n          ) : (\r\n            <Link\r\n              className=\"item\"\r\n              onClick={closeDropdown}\r\n              to={`/myProfile/${user.userName}`}\r\n            >\r\n              My Profile\r\n            </Link>\r\n          )}\r\n\r\n          <Link className=\"item\" onClick={closeDropdown} to=\"/myTattoos\">\r\n            My List\r\n          </Link>\r\n\r\n          <div className=\"item\" onClick={logout}>\r\n            <span>Logout</span>\r\n            <img src={logoutIcon} alt=\"lgout-icon\" />\r\n          </div>\r\n        </section>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABAgAAAQIBMi60rgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFkSURBVEiJ1dW9SlxREAfw3wlWIbFWNyGi+AJBCJi1SJFiKyFwsUlhJ4L4Dj6CdbbxNVJEQ0rRQosQSBEISAIhIItxQXRsTnTduB/XZRcyMFyYzzvzn5mTIsIw6cFQo48iwVgZ45TSM6ygihmcYy/zbkQc/uMUET0Zj/AOl4gOfIktPGz1Tb1ATik9xQ5ms+gnPmTZCeaxgJdZ/xXLEXHQswKM4yj/4QU2utgW+JVtv+FxRLirFa+4rmw9OzRR9NHKKfzIPvVbCTCJz1lZZNkTbGOhH6yyz1ILLoutmb9k4W9M9xuwQ5L3OdbmWEqpkgGbwx+8RTOlNNEV/RtqRMRpm+wTXuM5HOo8ev3wGaptFdSy7ngkm1xzu0UFDkrEuKtF8/m7P3SQe41pBXW8GGhMuyzamptFezPQonU5FX+n7AKrZU/FfY7dd3zELhoGOXZtrasbxrluq6b0g1MqwX3o/3/0rwAnyjjumL57zAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/chat-logo.1371f267.png\";","import React from 'react';\r\nimport { useState } from 'react';\r\nimport {\r\n  Link,\r\n  NavLink,\r\n  useHistory,\r\n  // useParams,\r\n  // useLocation,\r\n  // useRouteMatch,\r\n} from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { Signup } from './Signup';\r\nimport { Login } from './Login';\r\nimport { UserDropdown } from '../cmps/UserDropdown';\r\n\r\nimport { logout } from '../store/actions/userActions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport logo from '../assets/imgs/chat-logo.png';\r\n\r\nexport const AppHeader = () => {\r\n  const { loggedInUser, guestUser } = useSelector((state) => state.userModule);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const [showSignup, setShowSignup] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(false);\r\n\r\n  const closeLogin = () => setShowLogin(false);\r\n  const closeSignup = () => setShowSignup(false);\r\n\r\n  const onLoginLink = () => {\r\n    setShowLogin(true);\r\n    setShowSignup(false);\r\n  };\r\n  const onSignupLink = () => {\r\n    setShowLogin(false);\r\n    setShowSignup(true);\r\n  };\r\n  // const params = useParams();\r\n  // console.log(params);\r\n\r\n  const onLogout = () => {\r\n    dispatch(logout());\r\n    history.push('/:landing-page');\r\n  };\r\n  return (\r\n    <section className=\"app-header\">\r\n      <nav className=\"main-nav\">\r\n        <Link to=\"/\">\r\n          <img className=\"logo\" src={logo} alt=\"logo\" />\r\n        </Link>\r\n        <span> | </span>\r\n        <NavLink\r\n          className=\"home-link\"\r\n          activeClassName=\"active-nav\"\r\n          exact\r\n          to=\"/\"\r\n        >\r\n          Home\r\n        </NavLink>\r\n        <span> | </span>\r\n        <NavLink\r\n          className=\"about-link\"\r\n          activeClassName=\"active-nav\"\r\n          exact\r\n          to=\"/about\"\r\n        >\r\n          About\r\n        </NavLink>\r\n        <span> | </span>\r\n        <NavLink\r\n          className=\"Rooms-link\"\r\n          activeClassName=\"active-nav\"\r\n          exact\r\n          to=\"/rooms\"\r\n        >\r\n          Rooms\r\n        </NavLink>\r\n        <div className={`user-links ${guestUser ? 'guest' : ''}`}>\r\n          {(loggedInUser || guestUser) && (\r\n            <UserDropdown\r\n              user={loggedInUser ? loggedInUser : guestUser}\r\n              logout={onLogout}\r\n            />\r\n          )}\r\n          <div className=\"reg-btns\">\r\n            {!loggedInUser && (\r\n              <span onClick={() => setShowLogin(true)}>Login</span>\r\n            )}\r\n            {!loggedInUser && '|'}\r\n            {!loggedInUser && (\r\n              <span onClick={() => setShowSignup(true)}>Signup</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {showSignup && <Signup close={closeSignup} onLoginLink={onLoginLink} />}\r\n        {showLogin && <Login close={closeLogin} onSignupLink={onSignupLink} />}\r\n      </nav>\r\n    </section>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const About = () => {\r\n  return <div>about page</div>;\r\n};\r\n","import { httpService } from '../../services/httpService.js';\r\n// import { socketService } from '../../services/socketService.js';\r\nimport { getRandomIntInclusive } from '../../services/utilService.js';\r\n\r\n\r\n\r\nexport const query = (filterBy) => {\r\n    return async dispatch => {\r\n        const data = await httpService.get(`room`, { filterBy })\r\n        dispatch({ type: 'GET_ROOMS', data })\r\n    }\r\n\r\n}\r\n\r\nexport const setCurrRoom = (room) => {\r\n    return dispatch => {\r\n        // socketService.emit('room updated', room)\r\n        dispatch({ type: 'SET_CURR_ROOM', room })\r\n    }\r\n}\r\nexport const setCurrRoomById = (roomId) => {\r\n    return async dispatch => {\r\n        const room = await httpService.get(`room/${roomId}`)\r\n        // socketService.emit('room updated', room)\r\n        dispatch({ type: 'SET_CURR_ROOM', room })\r\n    }\r\n}\r\n\r\nexport const getById = (roomId) => {\r\n    return async dispatch => {\r\n        try {\r\n\r\n            const room = await httpService.get(`room/${roomId}`)\r\n            dispatch({ type: 'GET_ROOM', room })\r\n        } catch (err) {\r\n            console.log('getById error:', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const setFilterBy = (filterBy) => {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_FILTER', filterBy })\r\n    }\r\n}\r\n\r\nexport const setTags = (tags) => {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_TAGS', tags })\r\n    }\r\n}\r\n\r\nexport const remove = async (roomId) => {\r\n    try {\r\n        const removedRoom = await httpService.delete(`room/${roomId}`)\r\n        return removedRoom\r\n    } catch (err) {\r\n        console.log('Error on room service =>', err)\r\n        throw err;\r\n    }\r\n\r\n}\r\n//add and update\r\nexport const save = (room) => {\r\n    if (!room._id) {\r\n        return async dispatch => {\r\n            try {\r\n\r\n                const newRoom = await httpService.post(`room/`, room)\r\n                // socketService.emit('room updated', newRoom)\r\n                dispatch({ type: 'ADD_ROOM', newRoom })\r\n            } catch (err) {\r\n                console.log('save (add) error:', err);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        return async dispatch => {\r\n            try {\r\n\r\n                const updatedRoom = await httpService.put(`room/`, room)\r\n                dispatch({ type: 'UPDATE_ROOM', updatedRoom })\r\n            } catch (err) {\r\n                console.log('save (update) error:', err);\r\n            }\r\n        }\r\n    }\r\n    // try {\r\n    //     if (!room._id) {\r\n    //         const newRoom = await httpService.post(`room/`, room)\r\n    //         return newRoom\r\n    //     } else {\r\n    //         const updatedRoom = await httpService.put(`room/`, room)\r\n    //         return updatedRoom\r\n    //     }\r\n    // } catch (err) {\r\n    //     console.log('Error on room service =>', err)\r\n    //     throw err;\r\n    // }\r\n}\r\n\r\nexport const getEmptyRoom = () => {\r\n    const room = {\r\n        _id: '',\r\n        name: '',\r\n        imgUrl: '',\r\n        description: '',\r\n        tags: [],\r\n        createdAt: Date.now(),\r\n        // createdBy: {},\r\n        likedByUsers: getRandomIntInclusive(1000, 60000),\r\n        songs: []\r\n    }\r\n    return room\r\n}\r\n\r\n// export const saveSong = async (song, roomId) => {\r\n//     try {\r\n//         const room = await getById(roomId);\r\n//         const newSong = {\r\n//             id: song.id.videoId,\r\n//             title: song.snippet.title,\r\n//             imgUrl: song.snippet.thumbnails.high.url.replace('https:', ''),\r\n//             addedBy: '',\r\n//             duration: song.duration\r\n//         };\r\n//         room.songs.push(newSong);\r\n//         const updatedRoom = await save(room)\r\n//         return updatedRoom\r\n//     } catch (err) {\r\n//         console.log('Error on room service =>', err)\r\n//         throw err;\r\n//     }\r\n\r\n// }\r\n\r\n// export const removeSong = async (songId, roomId) => {\r\n//     try {\r\n//         const room = await getById(roomId)\r\n//         const idx = room.songs.findIndex(song => song.id === songId)\r\n//         room.songs.splice(idx, 1)\r\n//         const updatedRoom = await save(room)\r\n//         return updatedRoom\r\n//     } catch (err) {\r\n//         console.log('Error on room service =>', err)\r\n//         throw err;\r\n//     }\r\n// }\r\n\r\n// export const saveSongList = async (list, roomId) => {\r\n//     try {\r\n//         const room = await getById(roomId)\r\n//         room.songs = [...list]\r\n//         const updatedRoom = await save(room)\r\n//         return updatedRoom;\r\n//         // return updatedRoom.songs\r\n//     } catch (err) {\r\n//         console.log('Error on room service =>', err)\r\n//     }\r\n// }\r\n","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const RoomPreview = ({ room }) => {\r\n  return (\r\n    <Fragment>\r\n      <td className=\"room-preview\">\r\n        <Link to={`rooms/${room._id}`}>{room.name}</Link>\r\n      </td>\r\n      <td>{room.topic}</td>\r\n      <td>{room.type}</td>\r\n      <td>{room.limit}</td>\r\n      <td>{room.restrictions.join(', ')}</td>\r\n      <td>\r\n        <span>some date</span>\r\n      </td>\r\n    </Fragment>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setCurrRoom } from '../store/actions/roomActions';\r\nimport { RoomPreview } from './RoomPreview';\r\nexport const RoomList = ({ rooms }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const routeToRoom = (room) => {\r\n    dispatch(setCurrRoom(room));\r\n    history.push(`/rooms/${room._id}`);\r\n  };\r\n  return (\r\n    <div className=\"rooms-list\">\r\n      <table border=\"1\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>topic</th>\r\n            <th>type</th>\r\n            <th>Limit</th>\r\n            <th>Restrictions</th>\r\n            <th>last Message</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {rooms.map((room) => {\r\n            return (\r\n              <tr key={room._id} onClick={() => routeToRoom(room)}>\r\n                <RoomPreview room={room} />\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, memo } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { debounce } from 'debounce';\r\nimport Select from 'react-select';\r\n\r\nimport { query, setFilterBy, setTags } from '../store/actions/roomActions';\r\n\r\nimport { RoomList } from '../cmps/RoomList';\r\n\r\nexport const Rooms = memo(() => {\r\n  const { rooms, filterBy, filteredRooms } = useSelector(\r\n    (state) => state.roomModule\r\n  );\r\n  const { register, handleSubmit } = useForm();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(query(filterBy));\r\n    // eslint-disable-next-line\r\n  }, [filterBy]);\r\n\r\n  const onSubmit = (data) => {\r\n    dispatch(setFilterBy(data['search-rooms']));\r\n    // console.log(data['tags']);\r\n    // if (data['tags'].length) dispatch(setTags(data['tags']));\r\n  };\r\n  const onTagsSubmit = (tags) => {\r\n    console.log('tags:', tags);\r\n    dispatch(setTags(tags));\r\n  };\r\n\r\n  const options = [\r\n    { value: '', label: 'Choose Tags' },\r\n    { value: 'music', label: 'Music' },\r\n    { value: 'food', label: 'Food' },\r\n    { value: 'video games', label: 'Video Games' },\r\n    { value: 'code', label: 'Code' },\r\n    { value: 'love', label: 'Love' },\r\n    { value: 'art', label: 'Art' },\r\n  ];\r\n\r\n  if (!rooms)\r\n    return (\r\n      <div className=\"lds-ripple\">\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    );\r\n  return (\r\n    <div>\r\n      <div className=\"forms\">\r\n        <form\r\n          className=\"free-search-form\"\r\n          onSubmit={handleSubmit(onTagsSubmit)}\r\n          onChange={debounce(handleSubmit(onSubmit), 700)}\r\n        >\r\n          <input\r\n            {...register('search-rooms')}\r\n            id=\"search-rooms\"\r\n            type=\"text\"\r\n            placeholder=\"Search By Name\"\r\n            autoComplete=\"off\"\r\n          />\r\n        </form>\r\n        <form className=\"tags-form\">\r\n          <Select\r\n            isMulti\r\n            name=\"tags\"\r\n            options={options}\r\n            placeholder=\"Narrow Results by Tags\"\r\n            // className=\"basic-multi-select\"\r\n            // classNamePrefix=\"select\"\r\n            onChange={onTagsSubmit}\r\n          />\r\n        </form>\r\n      </div>\r\n      <RoomList rooms={filteredRooms ? filteredRooms : rooms} />\r\n    </div>\r\n  );\r\n});\r\n","import io from 'socket.io-client'\r\n// import { httpService } from './http-service'\r\n\r\n// export const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\n// export const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\n// export const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\n// export const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\n\r\nexport const socketService = createSocketService()\r\n// window.socketService = socketService\r\n\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\n\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n    let socket = null;\r\n    const socketService = {\r\n        async setup() {\r\n            // await httpService.get('setup-session')\r\n            // socket = io(baseUrl, { reconnection: false })\r\n            // socket = io.connect(baseUrl, { transports: ['websockets'] }) //this disables polling\r\n            socket = io(baseUrl)\r\n\r\n        },\r\n        on(eventName, cb) {\r\n            socket.on(eventName, cb)\r\n        },\r\n        off(eventName, cb = null) {\r\n            if (!socket) return;\r\n            if (!cb) socket.removeAllListeners(eventName)\r\n            else socket.off(eventName, cb)\r\n        },\r\n        emit(eventName, data) {\r\n            socket.emit(eventName, data)\r\n            // socket.on(eventName, data)\r\n        },\r\n        // broadcast() {\r\n        //     socket.broadcast(eventName, data)\r\n        // },\r\n        terminate() {\r\n            socket = null\r\n        }\r\n    }\r\n    return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\n// function createDummySocketService() {\r\n//   var listenersMap = {}\r\n//   const socketService = {\r\n//     listenersMap,\r\n//     setup() {\r\n//       listenersMap = {}\r\n//     },\r\n//     terminate() {\r\n//       2\r\n//       this.setup()\r\n//     },\r\n//     on(eventName, cb) {\r\n//       listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n//     },\r\n//     off(eventName, cb) {\r\n//       if (!listenersMap[eventName]) return\r\n//       if (!cb) delete listenersMap[eventName]\r\n//       else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n//     },\r\n//     emit(eventName, data) {\r\n//       if (!listenersMap[eventName]) return\r\n//       listenersMap[eventName].forEach(listener => {\r\n//         listener(data)\r\n//       })\r\n//     },\r\n//     debugMsg() {\r\n//       this.emit('chat addMsg', { from: 'Someone', txt: 'Aha it worked!' })\r\n//     },\r\n//   }\r\n//   return socketService\r\n// }\r\n\r\n\r\n// Basic Tests\r\n// function cb(x) {console.log(x)}\r\n// socketService.on('baba', cb)\r\n// socketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)","import { httpService } from '../../services/httpService.js';\r\nimport { getLoggedinUser } from './userActions.js';\r\nexport const addMsg = (roomId, msg, uid, name, isEdit, star, likes) => {\r\n    //maybe add away to edit msg.\r\n    return async dispatch => {\r\n        try {\r\n            const currUser = await getLoggedinUser()\r\n            console.log(currUser);\r\n            if (currUser._id === uid) {\r\n                const room = await httpService.post(`room/chat/${roomId}`, { msg, uid, name, isEdit, star, likes })\r\n                // const newMsg = room.msgs[room.msgs.length - 1]\r\n                // if (room.msgs.find(m => m.id === msg.id)) {\r\n                //     console.log('theres a double');\r\n                //     return\r\n                // }\r\n                dispatch({ type: 'ADD_MSG', msgs: room.msgs })\r\n\r\n            }\r\n            else {\r\n                console.log('shouldnt happen. means the sender is not the logged in user/guest');\r\n            }\r\n        } catch (err) {\r\n            console.log('addMsg error:', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const starMsg = (roomId, uid, msgId, currRoom) => {\r\n    return async dispatch => {\r\n        try {\r\n            // const msgIdx = currRoom.msgs.findIndex(msg => msg.id === msgId)\r\n            const room = await httpService.post(`room/chat/${roomId}/star/${uid}`, { uid, msgId })\r\n            const idx = room.msgs.findIndex(msg => msg.id === msgId)\r\n            const msg = room.msgs[idx]\r\n            // if (msg.likes.includes(uid)) {\r\n            //     console.log('likes already includes uid', uid + '. msg:', msg);\r\n            //     return\r\n            // }\r\n            // msg.star.push(uid)\r\n            dispatch({ type: 'STAR_MSG', msg, idx })\r\n\r\n        } catch (err) {\r\n            console.log('starMsg error:', err);\r\n        }\r\n    }\r\n}\r\nexport const unStarMsg = (roomId, uid, msgId) => {\r\n    return async dispatch => {\r\n        try {\r\n\r\n            const room = await httpService.delete(`room/chat/${roomId}/star/${uid}`, { uid, msgId })\r\n            const idx = room.msgs.findIndex(msg => msg.id === msgId)\r\n            const msg = room.msgs[idx]\r\n            msg.star.filter(u => u !== uid)\r\n            dispatch({ type: 'UN_STAR_MSG', msg, idx })\r\n        } catch (err) {\r\n            console.log('unStarMsg error:', err);\r\n        }\r\n\r\n    }\r\n}\r\nexport const likeMsg = (roomId, uid, msgId) => {\r\n    return async dispatch => {\r\n        try {\r\n            // const currUser = await getLoggedinUser()\r\n            // if (currUser._id === uid) {\r\n            const room = await httpService.post(`room/chat/${roomId}/likes/${uid}`, { uid, msgId })\r\n            const idx = room.msgs.findIndex(msg => msg.id === msgId)\r\n            const msg = room.msgs[idx]\r\n            // if (msg.likes.includes(uid)) {\r\n            //     console.log('likes already includes uid', uid + '. msg:', msg);\r\n            //     return\r\n            // }\r\n            // msg.likes.push(uid)\r\n            // dispatch({ type: 'STAR_MSG', uid,idx })\r\n            dispatch({ type: 'LIKE_MSG', msg, idx })\r\n            // }\r\n        } catch (err) {\r\n            console.log('likeMsg error:', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const unLikeMsg = (roomId, uid, msgId) => {\r\n    return async dispatch => {\r\n        try {\r\n            const room = await httpService.delete(`room/chat/${roomId}/likes/${uid}`, { uid, msgId })\r\n            const idx = room.msgs.findIndex(msg => msg.id === msgId)\r\n            const msg = room.msgs[idx]\r\n            msg.likes.filter(u => u !== uid)\r\n            dispatch({ type: 'UN_LIKE_MSG', msg, idx })\r\n        } catch (err) {\r\n            console.log('unLikeMsg error:', err);\r\n        }\r\n\r\n    }\r\n}\r\nexport const getMsgs = (roomId) => {\r\n    return async dispatch => {\r\n        try {\r\n            // const room = await httpService.get(`room/${roomId}`)\r\n            const msgs = roomId ? await httpService.get(`room/chat/${roomId}`) : []\r\n            // console.log('msgs:', room.msgs);\r\n            dispatch({ type: 'SET_MSGS', msgs })\r\n        } catch (err) {\r\n            console.log('getMsgs error:', err);\r\n        }\r\n\r\n    }\r\n}\r\n","import { useEffect, useRef } from 'react';\r\n\r\nexport const AlwaysScrollToBottom = () => {\r\n  const elBottom = useRef();\r\n  useEffect(() => elBottom.current.scrollIntoView());\r\n  return <div ref={elBottom}></div>;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport star from '../assets/imgs/star.png';\r\nimport like from '../assets/imgs/like.png';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  starMsg,\r\n  unStarMsg,\r\n  likeMsg,\r\n  unLikeMsg,\r\n} from '../store/actions/chatActions';\r\nexport const MsgEditOptions = ({ msg, currUser, isLiked, isStarred, room }) => {\r\n  const dispatch = useDispatch();\r\n  const { currRoom } = useSelector((state) => state.roomModule);\r\n  // const { currChatMsgs } = useSelector((state) => state.chatModule);\r\n\r\n  const [justLiked, setJustLike] = useState(null);\r\n  const [justStarred, setJustStarred] = useState(null);\r\n\r\n  // useEffect(() => {\r\n  //   console.log('msgs changed! star:', msg.star, 'likes:', msg.likes);\r\n  //   can activate userMsg here\r\n  // }, [msg.star, msg.likes]);\r\n  useEffect(() => {\r\n    msg.star.includes(currUser._id)\r\n      ? setJustStarred(true)\r\n      : setJustStarred(false);\r\n    msg.likes.includes(currUser._id) ? setJustLike(true) : setJustLike(false);\r\n  }, [msg.star, msg.likes]);\r\n\r\n  const starMessage = () => {\r\n    if (currUser.sex === 'guest') {\r\n      //add to userMsg\r\n      alert('Only registered users can like and star messages');\r\n      //   console.log('Only registered users can like and star messages');\r\n      return;\r\n    }\r\n    if (msg.star.includes(currUser._id)) {\r\n      console.log('star toggle off');\r\n      dispatch(unStarMsg(room._id, msg.uid, msg.id, currRoom));\r\n      // setJustStarred(false);\r\n    } else {\r\n      console.log('star toggle on');\r\n      dispatch(starMsg(room._id, msg.uid, msg.id, currRoom));\r\n      // setJustStarred(true);\r\n    }\r\n  };\r\n  const likeMessage = () => {\r\n    if (currUser.sex === 'guest') {\r\n      //add to userMsg\r\n      alert('Only registered users can like and star messages');\r\n      //   console.log('Only registered users can like and star messages');\r\n      return;\r\n    }\r\n    if (msg.likes.includes(currUser._id)) {\r\n      console.log('like toggle off');\r\n      dispatch(unLikeMsg(room._id, msg.uid, msg.id, currRoom));\r\n      // setJustLike(false);\r\n    } else {\r\n      console.log('like toggle on');\r\n      dispatch(likeMsg(room._id, msg.uid, msg.id, currRoom));\r\n      // setJustLike(true);\r\n    }\r\n  };\r\n  const editMsg = () => {\r\n    //\r\n  };\r\n  const removeMsg = () => {\r\n    //\r\n  };\r\n\r\n  return (\r\n    <div className=\"msg-edit-options\">\r\n      <img\r\n        onClick={starMessage}\r\n        className={justStarred ? 'starred' : ''}\r\n        src={star}\r\n        alt=\"star\"\r\n      />\r\n      <img\r\n        onClick={likeMessage}\r\n        className={justLiked ? 'liked' : ''}\r\n        src={like}\r\n        alt=\"like\"\r\n      />\r\n      {currUser && currUser._id === msg.uid && (\r\n        <div className=\"user-edit-options\">\r\n          <button onClick={editMsg} className=\"edit user-option\">\r\n            Edit\r\n          </button>\r\n          <button onClick={removeMsg} className=\"delete user-option\">\r\n            X\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEeSURBVDiNjdG7LoVBFAXgb2vQiagQhUuiOJQqb6CR6CRyCs8hGonKG2g8hDdQ6RxE3BIkep2CZGvml9855jDJymTWXnvty0Rmqp2IWIfMPKtqagYREbgsz5WsCEeq5dnCU8FWVZWZA0DgAmsFF023/ah1sInXzDzPzHO8Fm5wVMxjFUstdLBRkkXEGk5xhfsWek2r4zjBAx7xkJlvPypFTGARC+Xu4h3mcIfubzNWdtQtOXMNMYtb7P4jebdoZzNTOzCNG+wMSd4pmulvrk+wjeMhBsfYHvaNy7iufK0SW24T/QadxiAiJiPisGCyZdD5y+A5IvbQw0dBr3DP/Qbt+cbwiRccYaoVmyrcS9GMDSwRo9jHzJAlzuAAow33BeKvGNbTEZeJAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADhSURBVDiNpdM7akJBFAbgb0yZNAquwdpesEhh48LchZCNWGUBtqJ9sAgKuYVIOCkyN9yYuTeaHPhh5vyPYV4pIjQrpXQXEe8KVeRyQB9LvOCIJ0wjouanuXfMmiX69eIP2CIucMZjxrnAb7PXokDWeM1o4xew7hD8hnXCG+5Lh3ZFVT1s/miGTQ+rfwSsYIC92/e/x6C+5zlON5hPmEfE50PKITNUV5grzL589SCHTHDoMB8w+eZpTnLIuOVM9hj/0F82csgIu4Z5h1FRW2rmkCGeM4ZtunT5nZuVUkoQHaIPsXoLU4uBzaMAAAAASUVORK5CYII=\"","import { memo, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport {\r\n  // Color,\r\n  Palette,\r\n} from 'color-thief-react';\r\n\r\n//buttons imgs:\r\nimport cogwheel from '../assets/imgs/setting.png';\r\nimport attachment from '../assets/imgs/attachment.png';\r\nimport smiley from '../assets/imgs/smiley.png';\r\nimport send from '../assets/imgs/send.png';\r\nimport edit from '../assets/imgs/edit.png';\r\nimport like2 from '../assets/imgs/like2.png';\r\n\r\n//user images\r\nimport maleUser from '../assets/imgs/tattoo-male.png';\r\nimport femaleUser from '../assets/imgs/tattoo-female.png';\r\nimport guestImg from '../assets/imgs/guest.png';\r\n\r\nimport { getMsgs, addMsg } from '../store/actions/chatActions';\r\nimport { getLoggedinUser, getUsers } from '../store/actions/userActions';\r\nimport { socketService } from '../services/socketService';\r\n\r\nimport { AlwaysScrollToBottom } from './AlwaysScrollToBottom';\r\nimport { MsgEditOptions } from './MsgEditOptions';\r\n\r\nexport const Chat = memo(({ socket }) => {\r\n  const { register, handleSubmit, reset } = useForm();\r\n  const dispatch = useDispatch();\r\n  const { currChatMsgs } = useSelector((state) => state.chatModule);\r\n  const { loggedInUser, guestUser, users } = useSelector(\r\n    (state) => state.userModule\r\n  );\r\n  const { currRoom } = useSelector((state) => state.roomModule);\r\n\r\n  const [sent, setSent] = useState(false);\r\n  const [defaultImg, setDefaultImg] = useState('');\r\n  const [currUser, setCurrUser] = useState(null);\r\n  const [isEmpty, setIsEmpty] = useState(true);\r\n  const [currMsgToEdit, setCurrMsgToEdit] = useState({\r\n    edit: false,\r\n    msgId: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const topicToWatch = currRoom.topic + currRoom._id;\r\n    socketService.emit('room topic', topicToWatch);\r\n    if (!users) {\r\n      dispatch(getUsers());\r\n    }\r\n    setCurrUser(getLoggedinUser());\r\n    if (guestUser) {\r\n      setDefaultImg(guestImg);\r\n    } else if (loggedInUser) {\r\n      setDefaultImg(loggedInUser.sex === 'male' ? maleUser : femaleUser);\r\n    }\r\n\r\n    dispatch(getMsgs(currRoom._id));\r\n    setSent(true);\r\n    socketService.on('room addMsg', (msg) => {\r\n      console.log('socket:', socket);\r\n      dispatch(\r\n        addMsg(\r\n          currRoom._id,\r\n          msg.text,\r\n          msg.uid,\r\n          msg.name,\r\n          msg.isEdit,\r\n          msg.star,\r\n          msg.likes\r\n        )\r\n      );\r\n      setTimeout(() => {\r\n        dispatch(getMsgs(currRoom._id));\r\n      }, 100);\r\n    });\r\n    return () => {\r\n      dispatch(getMsgs(null));\r\n      socketService.off('room addMsg');\r\n    };\r\n\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const checkIsEmpty = (ev) => {\r\n    if (ev.target.value === '') {\r\n      setIsEmpty(true);\r\n    } else {\r\n      setIsEmpty(false);\r\n    }\r\n  };\r\n\r\n  const isLikedByCurrUser = (msgId) => {\r\n    const msg = currRoom.msgs.find((msg) => msg.id === msgId);\r\n    if (msg) {\r\n      if (msg && msg.likes.includes(currUser._id)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  };\r\n  const isStarredByCurrUser = (msgId) => {\r\n    const msg = currRoom.msgs.find((msg) => msg.id === msgId);\r\n    if (msg) {\r\n      if (msg && msg.star.includes(currUser._id)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  };\r\n  const getSenderInfo = (type, msg) => {\r\n    const sender = users.find((u) => {\r\n      return u._id === msg.uid;\r\n    });\r\n    if (sender) {\r\n      return sender[type];\r\n    }\r\n  };\r\n  const changeEditState = (msgId, uid) => {\r\n    if (currMsgToEdit.edit === true && currMsgToEdit.msgId === msgId) {\r\n      setCurrMsgToEdit({ edit: false, msgId: null });\r\n    } else {\r\n      setCurrMsgToEdit({ edit: true, msgId });\r\n    }\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    if (!data['msg-input']) return;\r\n    // console.log('currUser is the sender...', currUser);\r\n    // console.log('msg-input:', data['msg-input']);\r\n    const nameToAttatch = currUser.sex === 'guest' ? 'fullName' : 'userName';\r\n    const newMsg = {\r\n      text: data['msg-input'],\r\n      uid: currUser._id,\r\n      name: currUser[nameToAttatch],\r\n      isEdit: false,\r\n      star: [],\r\n      likes: [],\r\n    };\r\n    socketService.emit('room newMsg', newMsg);\r\n    reset();\r\n  };\r\n\r\n  if (!currUser || !users)\r\n    return (\r\n      <div className=\"lds-ripple\">\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    );\r\n  return (\r\n    <div className=\"chat-container\">\r\n      {currChatMsgs && (\r\n        <div className=\"msgs-container\">\r\n          <p className=\"start-of-chat\">This is the beggining of the chat!</p>\r\n\r\n          {currChatMsgs.map((msg) => (\r\n            <div\r\n              key={msg.id}\r\n              className={`single-msg ${\r\n                currUser && currUser._id === msg.uid ? 'sender' : ''\r\n              }`}\r\n            >\r\n              <Palette\r\n                src={\r\n                  currUser && getSenderInfo('imgUrl', msg)\r\n                    ? getSenderInfo('imgUrl', msg)\r\n                    : msg.name.includes('guest')\r\n                    ? guestImg\r\n                    : defaultImg\r\n                }\r\n                crossOrigin=\"anonymous\"\r\n                format=\"hex\"\r\n                colorCount={4}\r\n              >\r\n                {({ data, loading }) => {\r\n                  if (loading) return <div>🕒</div>;\r\n                  return (\r\n                    <img\r\n                      style={{\r\n                        backgroundColor: data[data.length / 2],\r\n                      }}\r\n                      className=\"user-img\"\r\n                      src={\r\n                        currUser && getSenderInfo('imgUrl', msg)\r\n                          ? getSenderInfo('imgUrl', msg)\r\n                          : msg.name.includes('guest')\r\n                          ? guestImg\r\n                          : defaultImg\r\n                      }\r\n                      alt=\"userImg\"\r\n                    />\r\n                  );\r\n                }}\r\n              </Palette>\r\n              {/* {isLikedByCurrUser(msg.id)}\r\n              {isStarredByCurrUser(msg.id)} */}\r\n              {currMsgToEdit.edit && currMsgToEdit.msgId === msg.id && (\r\n                <MsgEditOptions\r\n                  msg={msg}\r\n                  currUser={currUser}\r\n                  isLiked={isLikedByCurrUser(msg.id)}\r\n                  isStarred={isStarredByCurrUser(msg.id)}\r\n                  room={currRoom}\r\n                />\r\n              )}\r\n              <div\r\n                key={msg.id}\r\n                name=\"single-msg-txt\"\r\n                className={\r\n                  currUser && currUser._id === msg.uid\r\n                    ? 'sender'\r\n                    : currMsgToEdit.edit\r\n                    ? 'edit'\r\n                    : ''\r\n                }\r\n                style={\r\n                  msg.star.includes(currUser._id)\r\n                    ? { boxShadow: 'gold 0 0 5px' }\r\n                    : { boxShadow: 'none' }\r\n                }\r\n              >\r\n                <span className=\"sender-name\">\r\n                  {getSenderInfo('userName', msg)\r\n                    ? getSenderInfo('userName', msg)\r\n                    : msg.name}\r\n                </span>\r\n                {msg.text}\r\n                <span className=\"sent-at\">\r\n                  {new Date(msg.sentAt).toLocaleTimeString('he-IL', {\r\n                    hour: '2-digit',\r\n                    minute: '2-digit',\r\n                  })}{' '}\r\n                  <span className={`msg-status-marks ${sent ? 'sent' : ''}`}>\r\n                    ✔✔\r\n                  </span>\r\n                </span>\r\n                <img\r\n                  className=\"edit-btn\"\r\n                  src={edit}\r\n                  alt=\"edit\"\r\n                  onClick={() => changeEditState(msg.id, msg.uid)}\r\n                />\r\n                {msg.likes.length ? (\r\n                  <div className=\"like-count\">\r\n                    <span>{msg.likes.length}</span>\r\n                    <img src={like2} alt=\"heart\" />\r\n                  </div>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <AlwaysScrollToBottom />\r\n        </div>\r\n      )}\r\n      <div className=\"typing-line\">\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <textarea\r\n            {...register('msg-input')}\r\n            id=\"msg-input\"\r\n            type=\"text\"\r\n            spellCheck=\"true\"\r\n            autoComplete=\"off\"\r\n            // ref={elInput}\r\n            className={isEmpty ? '' : 'allowed'}\r\n            onKeyUp={checkIsEmpty}\r\n          />\r\n          <button type=\"submit\" className={isEmpty ? '' : 'allowed'}>\r\n            <img className={isEmpty ? '' : 'allowed'} src={send} alt=\"send\" />\r\n          </button>\r\n        </form>\r\n        <div className=\"chat-btns\">\r\n          <span> | </span>\r\n          <img src={cogwheel} alt=\"settings\" />\r\n          <img src={attachment} alt=\"attachment\" />\r\n          <img src={smiley} alt=\"smiley\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFDSURBVDiNjdIxS5ZRGIfx33kVEhyaFIwIJ+kLuDS7hKMYREuTDQ35CWyzqdTULRwiQdpqcYhSJ0VoEKQxkiSFhjB0EMPbwfuBV3ufVw8cznmuc19/7odzRITrTtzDW3zEUDJ9eIUd7DfN3aooC6cR+InvuR+FN/mxjKWm+Q79Kc9kzXt0oIGvWIUjLLVp+3XK/7CHu8k/YVseTtfIc3m+gEH8yZAJnOJpywAUzDfJjeSD+Jt8A911Ac8vy8kf5a9s4GZ1CxcCMIATfL5Krgt4kmz4Krku4EWyLtzBZJ0cETr9PyLXH+jJO1/GQxyXUp5hNiJO0TJgCreyg19Yi4gPUEp54PxFrmOzZUBE/MbjFsGym+ZVw/lLvF0jXB5V3WEFOrGIsVLKCg7ayA3cx1ZEbFewoBfjGMGNNgGBL3gZEd8qeAa6JA54N/M14gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFwSURBVDiNpZO/S5tRFIafc+6XX58SQwsVhE4OFgoi1sFBUlwUByfHCv0DOhenTp06detUXMVBShfXLN2qJCANTRyk2BjFCkpB7RfuPZ0qJCYh1Xd873nee86BI2bGfRQBMPswH67T7xCWgGGwLUU+Um5+Bfg98ehlK7CWtOyJgneR1mPnF3K1Xw2xydGhoLILTLRFG9cKz88v/dOrxNbpaNQ5ElP3OApO3mAdMICQDfApSWy0EwbwnnTW2ecIY6nPiGO+z4pa3qYUGO8T0FchWFaB+l0DVOVKEUp3DUg5qqqWfQsc/S/sBC+paEUpH5wHYxW4HBQWgXTGvS5Uj34oQFRpltR0EbgYALY4pa8KteP3AHrzUml8UdN54LQXrEKI0+5Ffv/kw43XVlFplNVpEfjZBfa5TLScrx9vtPm3vtlpfFeROeDbP8s5+RPntJivNbdvjdTzGmcejFjIbJ5d+GdDsZ/O7Z0ddivrHTCg/gJJiH2My9HpKwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHmSURBVFiFxdVPiE1hGMfxj2v8i0jEhpSUkRILJTuxUpOU2LFkI9kqpVAWUoqasjKbKStFFthoFjb+TWFnrJiF0uRPI8O9FueevE7nPX+uc+c+9avbeZ/3+f7e9zz3OQwuhnFrEOA1uI45PJxP8GKcwQw6XV2dL/gI3gXgVCf6Dd6NiRxwql39Am/AGNoF8DksbRq8HBcwWwBO9aZJcAvHMR2BTeU8G28KfgCTEXAbN/AlZ+3c/4KHcS8C7uAXTuJlZH2kV3A4SGLwHziM0YKcTXXBeYMkT98kr+VIQc4MFtSBxwZJVp+xB5tLjE5UBZcNklDT2IFFeFqSe7MMXGWQhHqPLd291yrkn4qB6wySVG+7huFgRdN7s+CyQRLTM6wNbu1ThT1trAzhRYOkSE+CQkOq98pU9vTbcaXm6e9jWVDjco29d7MG0ljYvY0xfC8oMC7p9DT2SaZeVQMXYwbCWCXpiUf+bapRSb+ksQ4fa8A7OFrFQBhbcUny7winVwuPa8I72FbXQCzO9wCflbzqRqLoYxTT82yRVvZBjRjqYc9kE0WK4rbkmo9hdc766yZh2et94O+Blki+oHfwM8jZ3y8DL7AikrceZ/Gq+7txAx+wscnCdQx8xc5BwOE3Dg0KDqebKPIH3Ypsi6tgaqsAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKKSURBVFiF3ZfPThNRFMZ/C4MmWOWfLW0FZKsk4qq+hVGDL4G6cKcvoSK+hzEuXZgIQi1F+VOKUpWoTwAuMMHUxf1u7u3Qmc6005j4JbOYb+45373nnnPuHfiPMAM8BWrALz01cTP9FB4AngN/gGbIcwwsamyqyABvJHIELAAlYFBPSdyRxrxOcxIZYEmOvwNXI8bOAj81djEN8XPAshzuA9MxbGYxkTgGrvQifh5Ykfg34FIC22eye9KL+KonPpXQviTbWq/i+8QLexBnZX+Y1HAIeC/jBjApfhB4ALwEXgEPJRKGjHwcJBEfBioy3AMmxOeADU7W/HrEJK5rzHZc8RGgKqPPwEXx48CO+F3gFnBDE2wCj0L82SR8HFd8XQafgKL4PFAXvwGMeTY3cQ0niGvAb0wZXu4kPgp88MQLbcQ/BsQB7ujbiwA/DfzQt4VO4mNybsObF1/Qe1OTGw3YZTHb1ATmPX4KUzVNTNuObMUXcIlV98SLmEjYJGsnvqXvZeCU+Engq/hlTBVEim/iVm7D7idcu5X7dnWNB5OwDfErmPYdiTVcieQ8Jzasa5iS9OGvfEvvYCJmK6KMaWIdsYSpd+tkwnNSSSBewG1XBdPEEsMXr2JK0kdY2LOYPh+2XbHFv+DCF1xB2MpztOZKcNKxcAZX/6uc3Lsw8Swmd2x/6GrlAPdxYY0r7m/Hpt67RlmObscUH8P1jW2P7xqHcjYe4G2J+uIjuO3awZVuKhPIB/i3tJboMO6U3G0z4a5hbzxzEWOGcPcD/6BKBfc8x8HGY8VtnuzhjujUcJrWO8AcZoUFzFFr23IDdzlJHUVvEu2eaj/FLQaAu8A7TGIeYI7Tefrwf/dP8RdrGOlWSZCiDwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","import React, { useEffect, useState, memo } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { setCurrRoom, setCurrRoomById } from '../store/actions/roomActions';\r\nimport { socketService } from '../services/socketService';\r\nimport { Chat } from '../cmps/Chat';\r\n\r\nimport { io } from 'socket.io-client';\r\n\r\nexport const Room = memo(() => {\r\n  const { currRoom } = useSelector((state) => state.roomModule);\r\n  const { loggedInUser, guestUser } = useSelector((state) => state.userModule);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  useEffect(() => {\r\n    //5 renders for some reason...\r\n    dispatch(setCurrRoomById(id));\r\n    if (!socket) {\r\n      const socketIOClient = io('http://localhost:3000', {\r\n        withCredentials: true,\r\n      });\r\n      setSocket(socketIOClient);\r\n    }\r\n    if (currRoom) {\r\n      // const socket = socketService();\r\n      const topicToWatch = currRoom.topic + currRoom._id;\r\n      socketService.emit('room topic', topicToWatch);\r\n      // socketService.on('set-room-socket', topicToWatch);\r\n      // socketService.on('room watch', topicToWatch);\r\n    }\r\n    return () => {\r\n      socketService.on('disconnect');\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const exitRoom = () => {\r\n    history.goBack();\r\n    dispatch(setCurrRoom(null));\r\n  };\r\n  if (!currRoom)\r\n    return (\r\n      <div className=\"lds-ripple\">\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    );\r\n  return (\r\n    <div className=\"room-container\">\r\n      {/* <Link to={`/rooms`} replace>\r\n        All rooms\r\n      </Link> */}\r\n      <button onClick={exitRoom}>Back</button>\r\n      <h3>{currRoom.name}</h3>\r\n      {(loggedInUser || guestUser) && socket && <Chat socket={socket} />}\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\n\r\nimport { Login } from '../cmps/Login';\r\nimport { Signup } from '../cmps/Signup';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { login } from '../store/actions/userActions';\r\nexport const LandingPage = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const onLoginLink = () => {\r\n    setShowLogin(true);\r\n    setShowSignup(false);\r\n  };\r\n  const onSignupLink = () => {\r\n    setShowLogin(false);\r\n    setShowSignup(true);\r\n  };\r\n\r\n  const [showSignup, setShowSignup] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n\r\n  const closeLogin = () => setShowLogin(false);\r\n  const closeSignup = () => setShowSignup(false);\r\n\r\n  const enterAsGuest = () => {\r\n    dispatch(login({}, true));\r\n    history.replace('/');\r\n  };\r\n  return (\r\n    <div className=\"landing-page\">\r\n      <div className=\"greeting\">\r\n        <h1>Welcome to FreeChat!</h1>\r\n      </div>\r\n      {showSignup && <Signup close={closeSignup} onLoginLink={onLoginLink} />}\r\n      {showLogin && <Login close={closeLogin} onSignupLink={onSignupLink} />}\r\n      <div className=\"enter-as-guest\">\r\n        <p>Or Start chatting as a guest</p>\r\n        <button onClick={enterAsGuest}>Let's Go!</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n// import { useState, useEffect } from 'react';\r\n\r\n// import pin from '../assets/imgs/pin.png';\r\nimport { getLoggedinUser } from '../store/actions/userActions';\r\nexport const UserProfile = () => {\r\n  const [user, setUser] = useState('');\r\n  const [userImg, setUserImg] = useState('');\r\n  const { users } = useSelector((state) => state.userModule);\r\n  useEffect(() => {\r\n    setUser(getLoggedinUser());\r\n    getUserImg();\r\n    console.log('user in userProfile:', user);\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const { userName, fullName, email } = user;\r\n  const getCaptName = () => {\r\n    const firstLetter = fullName.charAt(0).toUpperCase();\r\n    const restOfName = fullName.slice(1, user.fullName.indexOf(' '));\r\n    const capitalizedFullName = firstLetter + restOfName;\r\n    return capitalizedFullName;\r\n  };\r\n  const getUserImg = () => {\r\n    const userInSession = getLoggedinUser();\r\n    const correctUser = users.find((u) => {\r\n      return u._id === userInSession._id;\r\n    });\r\n    console.log('correctUser', correctUser);\r\n    setUserImg(correctUser.imgUrl);\r\n  };\r\n\r\n  if (!user) return <div>no logged in user</div>;\r\n  return (\r\n    <section className=\"user-profile\">\r\n      <h4> Hello {getCaptName()}, This is your profile page. </h4>\r\n      <img src={userImg} alt=\"userImg\" />\r\n      <div className=\"additional-info\">\r\n        <ul>\r\n          <div className=\"forty-five\"></div>\r\n          <br />\r\n          {/* <img className=\"pin\" src={pin} alt=\"pin\" /> */}\r\n          <li>User Name: {userName}</li>\r\n          {user && <li>Email: {email}</li>}\r\n          <li>\r\n            Been a user since:{' '}\r\n            {new Date(user.createdAt * 1000).toLocaleDateString('he-IL')}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      {/* <li>\r\n          <h5>Delete Account:</h5>\r\n          <button>Delete</button>\r\n        </li> */}\r\n    </section>\r\n  );\r\n};\r\n","import './style/App.scss';\r\nimport {\r\n  HashRouter as Router,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport { MainPage } from './pages/MainPage';\r\nimport { AppFooter } from './cmps/AppFooter';\r\nimport { AppHeader } from './cmps/AppHeader';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport {\r\n  getLoggedinUser,\r\n  persistLogin,\r\n  setReady,\r\n  getUsers,\r\n} from './store/actions/userActions';\r\n\r\nimport { About } from './pages/About';\r\nimport { Rooms } from './pages/Rooms';\r\nimport { Room } from './pages/Room';\r\nimport { LandingPage } from './pages/LandingPage';\r\nimport { UserProfile } from './pages/UserProfile';\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const { loggedInUser, ready, guestUser } = useSelector(\r\n    (state) => state.userModule\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(getUsers());\r\n    const user = getLoggedinUser();\r\n    if (user) {\r\n      dispatch(persistLogin(user));\r\n      dispatch(setReady(true));\r\n    } else {\r\n      dispatch(setReady(true));\r\n    }\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const PrivateRoute = (props) => {\r\n    // return props.isAdmin ? <Route {...props} /> : <Redirect to=\"/\" />\r\n    return getLoggedinUser() ? (\r\n      <Route path={props.path} component={props.component} />\r\n    ) : (\r\n      <Redirect to=\"/:landingPage\" />\r\n    );\r\n  };\r\n\r\n  const NoneUsers = (props) => {\r\n    // return props.isAdmin ? <Route {...props} /> : <Redirect to=\"/\" />\r\n    return !getLoggedinUser() ? (\r\n      <Route path={props.path} component={props.component} />\r\n    ) : (\r\n      <Redirect to=\"/\" />\r\n    );\r\n  };\r\n\r\n  const RegisteredUserRoute = (props) => {\r\n    // return props.isAdmin ? <Route {...props} /> : <Redirect to=\"/\" />\r\n    return loggedInUser ? (\r\n      <Route path={props.path} component={props.component} />\r\n    ) : (\r\n      <Redirect to=\"/:landingPage\" />\r\n    );\r\n  };\r\n\r\n  if (!ready)\r\n    return (\r\n      <div className=\"lds-ripple\">\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    );\r\n  else\r\n    return (\r\n      <Router>\r\n        {(loggedInUser || guestUser) && <AppHeader />}\r\n        <main className=\"App\">\r\n          <Switch>\r\n            {/* <PrivateRoute path=\"/rooms/:id\" component={Room} /> */}\r\n            <PrivateRoute path=\"/rooms/:id\" component={Room} />\r\n            <PrivateRoute path=\"/rooms\" component={Rooms} />\r\n            <PrivateRoute path=\"/about\" component={About} />\r\n            <RegisteredUserRoute\r\n              path=\"/myProfile/:id\"\r\n              component={UserProfile}\r\n            />\r\n            <NoneUsers path=\"/:landingPage\" component={LandingPage} />\r\n            <PrivateRoute path=\"/\" component={MainPage} />\r\n          </Switch>\r\n        </main>\r\n        {(loggedInUser || guestUser) && <AppFooter />}\r\n      </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const INITIAL_STATE = {\r\n  users: null,\r\n  loggedInUser: null,\r\n  guestUser: null,\r\n  //\r\n  wrongCreds: null,\r\n  isRegisteredUser: false,\r\n  ready: false\r\n}\r\n\r\n//loggedInUser:{\r\n//userName: String,\r\n//fullName: String,\r\n//birthday: string,\r\n//password: String,\r\n//imgUrl: String,\r\n//likedRooms: Array of strings\r\n//isGuest: boolean,\r\n// }\r\n\r\nexport function userReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case 'SET_READY':\r\n      // console.log('action.user:', action.user);\r\n      return {\r\n        ...state,\r\n        ready: action.isReady\r\n      }\r\n    case 'LOGIN':\r\n      // console.log('action.user:', action.user);\r\n      return {\r\n        ...state,\r\n        loggedInUser: action.user,\r\n        guestUser: null\r\n      }\r\n    case 'LOGIN_GUEST':\r\n      // console.log('action.user:', action.user);\r\n      return {\r\n        ...state,\r\n        guestUser: action.user,\r\n        loggedInUser: null\r\n      }\r\n    case 'LOGOUT':\r\n      return {\r\n        ...state,\r\n        loggedInUser: null,\r\n        guestUser: null\r\n      }\r\n    // case 'SIGNUP':\r\n    //   return {\r\n    //     ...state,\r\n    //     loggedInUser: action.user\r\n    //   }\r\n    case 'LOGIN_ERROR':\r\n    case 'SIGNUP_ERROR':\r\n      return {\r\n        ...state,\r\n        wrongCreds: action.isWrong\r\n      }\r\n    case 'SET_REGISTERED_USER':\r\n      return {\r\n        ...state,\r\n        isUser: action.isUser\r\n      }\r\n    case 'GET_USERS':\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      }\r\n    case 'ADD_TATTOO_TO_USER':\r\n      return {\r\n        ...state,\r\n        loggedInUser: {\r\n          ...state.loggedInUser,\r\n          tattoos: [...state.loggedInUser.tattoos, action.tatId]\r\n        }\r\n      }\r\n    case 'REMOVE_TATTOO_FROM_USER':\r\n      return {\r\n        ...state,\r\n        loggedInUser: {\r\n          ...state.loggedInUser,\r\n          tattoos: state.loggedInUser.tattoos.map(tat => tat.id !== action.tatId ? action.tatId : tat)\r\n        }\r\n      }\r\n    case 'SET_USER_IMAGE':\r\n      return {\r\n        ...state,\r\n        loggedInUser: {\r\n          ...state.loggedInUser,\r\n          userImg: action.img\r\n        }\r\n      }\r\n    case 'READY':\r\n      // console.log('im ready to load!');\r\n      return {\r\n        ...state,\r\n        ready: action.readyState\r\n      }\r\n    case 'SET_USER_BIO':\r\n      return {\r\n        ...state,\r\n        bio: action.bio\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","const INITIAL_STATE = {\r\n    rooms: null,\r\n    filteredRooms: null,\r\n    currRoom: null,\r\n    filterBy: { topic: '', description: '', tags: [], name: '' },\r\n\r\n}\r\n\r\nexport const roomReducer = (state = INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n        case 'GET_ROOMS':\r\n            return {\r\n                ...state,\r\n                rooms: action.data.rooms,\r\n                filteredRooms: action.data.filteredRooms,\r\n            }\r\n        case 'GET_ROOM':\r\n            return {\r\n                ...state,\r\n                currRoom: action.room\r\n            }\r\n        case 'SET_CURR_ROOM':\r\n            return {\r\n                ...state,\r\n                currRoom: action.room\r\n            }\r\n        case 'SET_FILTER':\r\n            return {\r\n                ...state,\r\n                filterBy: {\r\n                    ...state.filterBy,\r\n                    topic: action.filterBy,\r\n                    description: action.filterBy,\r\n                    name: action.filterBy\r\n                }\r\n            }\r\n        case 'SET_TAGS':\r\n            return {\r\n                ...state,\r\n                filterBy: {\r\n                    ...state.filterBy,\r\n                    tags: action.tags\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","const INITIAL_STATE = {\r\n    currChatMsgs: null,\r\n    // [{\r\n    //     text: '',\r\n    //     id: null,\r\n    //     sentAt: null,\r\n    //     uid: null,\r\n    //     name: '',\r\n    //     isEdit: false,\r\n    //     star: null,\r\n    //     likes: null\r\n    // }]\r\n    quota: null,\r\n    roomFull: false\r\n}\r\nexport const chatReducer = (state = INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n        case 'SET_MSGS':\r\n            return {\r\n                ...state,\r\n                currChatMsgs: action.msgs\r\n            }\r\n        case 'ADD_MSG':\r\n            //this doesnt do anything really, right?\r\n            return {\r\n                ...state,\r\n                currChatMsgs: [...state.currChatMsgs]\r\n            }\r\n        case 'STAR_MSG':\r\n        case 'UN_STAR_MSG':\r\n            return {\r\n                ...state,\r\n                currChatMsgs: state.currChatMsgs.map((msg, idx) => {\r\n                    return idx === action.idx ?\r\n                        action.msg\r\n                        :\r\n                        msg\r\n                })\r\n            }\r\n        // case 'UN_STAR_MSG':\r\n        //     return {\r\n        //         ...state,\r\n        //         currChatMsgs: state.currChatMsgs.filter((msg, idx) => { return idx !== action.idx })\r\n        //     }\r\n        case 'LIKE_MSG':\r\n        case 'UN_LIKE_MSG':\r\n            return {\r\n                ...state,\r\n                currChatMsgs: state.currChatMsgs.map((msg, idx) => {\r\n                    return idx === action.idx ?\r\n                        action.msg\r\n                        :\r\n                        msg\r\n                })\r\n\r\n            }\r\n        // case 'UN_LIKE_MSG':\r\n        //     console.log('like action:', state.currChatMsgs[action.idx]);\r\n        //     return {\r\n        //         ...state,\r\n        //         currChatMsgs: state.currChatMsgs.filter((msg, idx) => { return idx !== action.idx })\r\n\r\n        //     }\r\n        default:\r\n            return state\r\n    }\r\n}","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n// import { robotReducer } from './reducers/robotReducer';\r\nimport { userReducer } from './reducers/userReducer';\r\nimport { roomReducer } from './reducers/roomReducer'\r\nimport { chatReducer } from './reducers/chatReducer'\r\n\r\n// Connecting redux devtools\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\n// Combining reducers into one\r\nconst rootReducer = combineReducers({\r\n  roomModule: roomReducer,\r\n  chatModule: chatReducer,\r\n  userModule: userReducer,\r\n\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style/index.scss';\r\nimport App from './App.jsx';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}